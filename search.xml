<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ä»£ç 001</title>
    <url>/2025/04/10/hdh/</url>
    <content><![CDATA[<h2 id="TO"><a href="#TO" class="headerlink" title="TO"></a>TO</h2><h5 id="fgf"><a href="#fgf" class="headerlink" title="fgf"></a>fgf</h5><h2 id="fsfs"><a href="#fsfs" class="headerlink" title="fsfs"></a>fsfs</h2><h3 id="fgd"><a href="#fgd" class="headerlink" title="fgd"></a>fgd</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">z</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>other</category>
      </categories>
  </entry>
  <entry>
    <title>ABC</title>
    <url>/2025/05/01/ABC/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>Hello world</title>
    <url>/2025/04/09/helloworld/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>other</category>
      </categories>
  </entry>
  <entry>
    <title>proj2</title>
    <url>/2025/05/01/nand2tetris-proj2-final/</url>
    <content><![CDATA[<h3 id="2-1-Binary-Numbers"><a href="#2-1-Binary-Numbers" class="headerlink" title="2.1 Binary Numbers"></a>2.1 Binary Numbers</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405164423371.png" alt="image-20250405164423371"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405163338004.png" alt="image-20250405163338004"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405163415418.png" alt="image-20250405163415418"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405163504925.png" alt="image-20250405163504925"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405163628278.png" alt="image-20250405163628278"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405163712469.png" alt="image-20250405163712469"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405163835567.png" alt="image-20250405163835567"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405164037453.png" alt="image-20250405164037453"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405164111279.png" alt="image-20250405164111279"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405164323993.png" alt="image-20250405164323993"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405164440667.png" alt="image-20250405164440667"></p>
<h3 id="2-2-Binary-Addtion"><a href="#2-2-Binary-Addtion" class="headerlink" title="2.2 Binary Addtion"></a>2.2 Binary Addtion</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405164738887.png" alt="image-20250405164738887"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405164824580.png" alt="image-20250405164824580"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405165448779.png" alt="image-20250405165448779"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405165500123.png" alt="image-20250405165500123"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405165606105.png" alt="image-20250405165606105"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405165703426.png"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405165723071.png" alt="image-20250405165723071"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405165825413.png" alt="image-20250405165825413"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405165845990.png" alt="image-20250405165845990"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405170123908.png" alt="image-20250405170123908"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405170129544.png" alt="image-20250405170129544"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405170208503.png" alt="image-20250405170208503"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405170216151.png" alt="image-20250405170216151"></p>
<h3 id="2-3-Negative-Numbers"><a href="#2-3-Negative-Numbers" class="headerlink" title="2.3 Negative Numbers"></a>2.3 Negative Numbers</h3><h4 id="Expression-of-negative-numbers"><a href="#Expression-of-negative-numbers" class="headerlink" title="Expression of negative numbers"></a>Expression of negative numbers</h4><p>way1</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405170630309.png" alt="image-20250405170630309"></p>
<p>way2ï¼š</p>
<p><strong>å‰ä¸€åŠçš„äºŒè¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ç”¨æ¥è¡¨ç¤ºæ­£æ•°ï¼Œåä¸€åŠçš„äºŒè¿›åˆ¶æ•°å­—ï¼ˆ8-15ï¼‰ç•™ä½œè¡¨ç¤ºè´Ÿæ•°ï¼ˆeg è¡¨ç¤º-3ï¼Œ16-3&#x3D;13ï¼‰</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405170802386.png" alt="image-20250405170802386"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405170839174.png" alt="image-20250405170839174"></p>
<h4 id="Addtion-in-2â€™s-Complement"><a href="#Addtion-in-2â€™s-Complement" class="headerlink" title="Addtion in 2â€™s Complement"></a>Addtion in 2â€™s Complement</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405171005000.png" alt="image-20250405171005000"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405171035760.png" alt="image-20250405171035760"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405171049696.png" alt="image-20250405171049696"></p>
<p>-2+(-3)&#x3D;-5,-5çš„è¡¥ç å°±æ˜¯11ï¼ˆ1011ï¼‰</p>
<h4 id="Computing-x"><a href="#Computing-x" class="headerlink" title="Computing -x"></a>Computing -x</h4><ul>
<li>Egç®—-4çš„äºŒè¿›åˆ¶è¡¨è¾¾ï¼š4&#x3D;100ï¼Œ1111-0100ï¼ˆ1111æ€ä¹ˆæ¥çš„ï¼Œä»¤n&#x3D;4(æ„å‘³ç€ç”¨4ä½äºŒè¿›åˆ¶æ•°æ¥è¡¨ç¤ºå€¼ï¼‰ï¼‰</li>
<li>å–åç ï¼š1111-0100&#x3D;1011ï¼Œæ±‚è¡¥ç ï¼š1011+1&#x3D;1100</li>
<li>1100&#x3D;12ï¼Œå°±æ˜¯4çš„è¡¥ç ï¼ˆ16-4&#x3D;2ï¼‰</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405172020903.png" alt="image-20250405172020903"></p>
<h4 id="Eg"><a href="#Eg" class="headerlink" title="Eg"></a>Eg</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405172052564.png" alt="image-20250405172052564"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405172109700.png" alt="image-20250405172109700"></p>
<p>å…·ä½“æ­¥éª¤ï¼š</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405172145471.png" alt="image-20250405172145471"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405172153998.png" alt="image-20250405172153998"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405172208946.png" alt="image-20250405172208946"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405172347010.png" alt="image-20250405172347010"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250405172357526.png" alt="image-20250405172357526"></p>
<h3 id="2-4-ALU"><a href="#2-4-ALU" class="headerlink" title="2.4 ALU"></a>2.4 ALU</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406110555945.png" alt="image-20250406110555945"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406110852706.png" alt="image-20250406110852706"></p>
<p>The Hack ALU</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406111036333.png" alt="image-20250406111036333"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406111128678.png" alt="image-20250406111128678"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406111445256.png" alt="image-20250406111445256"></p>
<h4 id="The-Hack-ALU-operation"><a href="#The-Hack-ALU-operation" class="headerlink" title="The Hack ALU operation"></a>The Hack ALU operation</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406111650538.png" alt="image-20250406111650538"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406111659071.png" alt="image-20250406111659071"></p>
<h4 id="example"><a href="#example" class="headerlink" title="example"></a>example</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406112032655.png" alt="image-20250406112032655"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406112211405.png" alt="image-20250406112211405"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406112814587.png" alt="image-20250406112814587"></p>
<h4 id="zr-ng-other-control-bits"><a href="#zr-ng-other-control-bits" class="headerlink" title="zr,ng(other control bits)"></a>zr,ng(other control bits)</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406113216863.png" alt="image-20250406113216863"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406113424794.png" alt="image-20250406113424794"></p>
<h3 id="2-5-Project-2-Overview"><a href="#2-5-Project-2-Overview" class="headerlink" title="2.5 Project 2 Overview"></a>2.5 Project 2 Overview</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406115407406.png" alt="image-20250406115407406"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406115505314.png" alt="image-20250406115505314"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406115619723.png" alt="image-20250406115619723"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406115813870.png" alt="image-20250406115813870"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406115848432.png" alt="image-20250406115848432"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406115943371.png" alt="image-20250406115943371"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406120143252.png" alt="image-20250406120143252"></p>
<h3 id="2-6-code"><a href="#2-6-code" class="headerlink" title="2.6 code"></a>2.6 code</h3><h4 id="HalfAdder"><a href="#HalfAdder" class="headerlink" title="HalfAdder"></a>HalfAdder</h4><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/1bbe5e2afb8e3660effe1112926c7ef.jpg" alt="1bbe5e2afb8e3660effe1112926c7ef" style="zoom:10%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Computes the sum of two bits.</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line">CHIP HalfAdder &#123;</span><br><span class="line">    IN a, b;    // 1-bit inputs</span><br><span class="line">    OUT sum,    // Right bit of a + b </span><br><span class="line">        carry;  // Left bit of a + b</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    Xor(a=a , b=b , out =sum );</span><br><span class="line">    And(a=a , b=b , out=carry );</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="FullAdder"><a href="#FullAdder" class="headerlink" title="FullAdder"></a>FullAdder</h4><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/d0e82880f0fd2ae54e547126bf44e45.jpg" alt="d0e82880f0fd2ae54e547126bf44e45" style="zoom:12%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Computes the sum of three bits.</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line">CHIP FullAdder &#123;</span><br><span class="line">    IN a, b, c;  </span><br><span class="line">    OUT sum,     </span><br><span class="line">        carry;   </span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    Xor(a=a , b=b , out=xorab );</span><br><span class="line">    Xor(a=xorab , b=c , out=sum );</span><br><span class="line">    </span><br><span class="line">    And(a=a , b=b , out=andab );</span><br><span class="line">    Xor(a =a , b =b , out =xor2ab );</span><br><span class="line">    And(a=xor2ab , b=c , out=andcc );</span><br><span class="line">    Or(a=andab , b=andcc , out=carry );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Add16"><a href="#Add16" class="headerlink" title="Add16"></a>Add16</h4><p><img src="https://th.bing.com/th/id/OIP.eBsFkGOXIwb2W-vw9H2ICAHaDx?rs=1&pid=ImgDetMain" alt="Add16 Â· Nand2tetris-Homework"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 16-bit adder: Adds two 16-bit two&#x27;s complement values.</span><br><span class="line"> * The most significant carry bit is ignored.</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line">CHIP Add16 &#123;</span><br><span class="line">    IN a[16], b[16];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    HalfAdder(a=a[0] , b=b[0] , sum=out[0] , carry=c0 );</span><br><span class="line">    FullAdder(a=a[1] , b=b[1] , c=c0 , sum=out[1] , carry=c1 );</span><br><span class="line">    FullAdder(a=a[2] , b=b[2] , c=c1, sum=out[2] , carry=c2 );</span><br><span class="line">    FullAdder(a=a[3] , b=b[3] , c=c2 , sum=out[3] , carry=c3 );</span><br><span class="line">    FullAdder(a=a[4] , b=b[4] , c=c3 , sum=out[4] , carry=c4 );</span><br><span class="line">    FullAdder(a=a[5] , b=b[5] , c=c4 , sum=out[5] , carry=c5 );</span><br><span class="line">    FullAdder(a=a[6] , b=b[6] , c=c5 , sum=out[6] , carry=c6 );</span><br><span class="line">    FullAdder(a=a[7] , b=b[7] , c=c6 , sum=out[7] , carry=c7 );</span><br><span class="line">    FullAdder(a=a[8] , b=b[8] , c=c7 , sum=out[8] , carry=c8 );</span><br><span class="line">    FullAdder(a=a[9] , b=b[9] , c=c8 , sum=out[9] , carry=c9 );</span><br><span class="line">    FullAdder(a=a[10] , b=b[10] , c=c9 , sum=out[10] , carry=c10 );</span><br><span class="line">    FullAdder(a=a[11] , b=b[11] , c=c10 , sum=out[11] , carry=c11 );</span><br><span class="line">    FullAdder(a=a[12] , b=b[12] , c=c11 , sum=out[12] , carry=c12 );</span><br><span class="line">    FullAdder(a=a[13] , b=b[13] , c=c12 , sum=out[13] , carry=c13 );</span><br><span class="line">    FullAdder(a=a[14] , b=b[14] , c=c13 , sum=out[14] , carry=c14 );</span><br><span class="line">    FullAdder(a=a[15] , b=b[15] , c=c14 , sum=out[15] , carry=c15 );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Inc16"><a href="#Inc16" class="headerlink" title="Inc16"></a>Inc16</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 16-bit incrementer:</span><br><span class="line"> * out = in + 1</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line">CHIP Inc16 &#123;</span><br><span class="line">    IN in[16];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    HalfAdder(a=in[0] , b=true , sum=out[0] , carry=c0 );</span><br><span class="line">    FullAdder(a=in[1] , b=false , c=c0 , sum=out[1] , carry=c1 );</span><br><span class="line">    FullAdder(a=in[2] , b=false , c=c1, sum=out[2] , carry=c2 );</span><br><span class="line">    FullAdder(a=in[3] , b=false , c=c2 , sum=out[3] , carry=c3 );</span><br><span class="line">    FullAdder(a=in[4] , b=false , c=c3 , sum=out[4] , carry=c4 );</span><br><span class="line">    FullAdder(a=in[5] , b=false , c=c4 , sum=out[5] , carry=c5 );</span><br><span class="line">    FullAdder(a=in[6] , b=false , c=c5 , sum=out[6] , carry=c6 );</span><br><span class="line">    FullAdder(a=in[7] , b=false , c=c6 , sum=out[7] , carry=c7 );</span><br><span class="line">    FullAdder(a=in[8] , b=false , c=c7 , sum=out[8] , carry=c8 );</span><br><span class="line">    FullAdder(a=in[9] , b=false , c=c8 , sum=out[9] , carry=c9 );</span><br><span class="line">    FullAdder(a=in[10] , b=false , c=c9 , sum=out[10] , carry=c10 );</span><br><span class="line">    FullAdder(a=in[11] , b=false , c=c10 , sum=out[11] , carry=c11 );</span><br><span class="line">    FullAdder(a=in[12] , b=false , c=c11 , sum=out[12] , carry=c12 );</span><br><span class="line">    FullAdder(a=in[13] , b=false , c=c12 , sum=out[13] , carry=c13 );</span><br><span class="line">    FullAdder(a=in[14] , b=false , c=c13 , sum=out[14] , carry=c14 );</span><br><span class="line">    FullAdder(a=in[15] , b=false , c=c14 , sum=out[15] , carry=c15 );   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ALU"><a href="#ALU" class="headerlink" title="ALU"></a>ALU</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * ALU (Arithmetic Logic Unit):</span><br><span class="line"> * Computes out = one of the following functions:</span><br><span class="line"> *                0, 1, -1,</span><br><span class="line"> *                x, y, !x, !y, -x, -y,</span><br><span class="line"> *                x + 1, y + 1, x - 1, y - 1,</span><br><span class="line"> *                x + y, x - y, y - x,</span><br><span class="line"> *                x &amp; y, x | y</span><br><span class="line"> * on the 16-bit inputs x, y,</span><br><span class="line"> * according to the input bits zx, nx, zy, ny, f, no.</span><br><span class="line"> * In addition, computes the two output bits:</span><br><span class="line"> * if (out == 0) zr = 1, else zr = 0</span><br><span class="line"> * if (out &lt; 0)  ng = 1, else ng = 0</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line">// Implementation: Manipulates the x and y inputs</span><br><span class="line">// and operates on the resulting values, as follows:</span><br><span class="line">// if (zx == 1) sets x = 0        // 16-bit constant</span><br><span class="line">// if (nx == 1) sets x = !x       // bitwise not</span><br><span class="line">// if (zy == 1) sets y = 0        // 16-bit constant</span><br><span class="line">// if (ny == 1) sets y = !y       // bitwise not</span><br><span class="line">// if (f == 1)  sets out = x + y  // integer 2&#x27;s complement addition</span><br><span class="line">// if (f == 0)  sets out = x &amp; y  // bitwise and</span><br><span class="line">// if (no == 1) sets out = !out   // bitwise not</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/3f83a46c9a79a5e0cb1a05e2188f621.jpg" alt="3f83a46c9a79a5e0cb1a05e2188f621" style="zoom: 18%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHIP ALU &#123;</span><br><span class="line">    IN  </span><br><span class="line">        x[16], y[16],  // 16-bit inputs        </span><br><span class="line">        zx, // zero the x input?</span><br><span class="line">        nx, // negate the x input?</span><br><span class="line">        zy, // zero the y input?</span><br><span class="line">        ny, // negate the y input?</span><br><span class="line">        f,  // compute (out = x + y) or (out = x &amp; y)?</span><br><span class="line">        no; // negate the out output?</span><br><span class="line">    OUT </span><br><span class="line">        out[16], // 16-bit output</span><br><span class="line">        zr,      // if (out == 0) equals 1, else 0</span><br><span class="line">        ng;      // if (out &lt; 0)  equals 1, else 0</span><br><span class="line"></span><br><span class="line">    PARTS:    </span><br><span class="line">    // zx</span><br><span class="line">    Mux16(a=x , b=false , sel=zx , out=x1 );</span><br><span class="line">    </span><br><span class="line">    // nx</span><br><span class="line">    Not16(in=x1 , out=notx );</span><br><span class="line">    Mux16(a=x1 , b=notx , sel=nx , out=x2 );</span><br><span class="line">    </span><br><span class="line">    // zy</span><br><span class="line">    Mux16(a=y , b=false , sel=zy , out=y1 );</span><br><span class="line">    </span><br><span class="line">    // ny</span><br><span class="line">    Not16(in=y1 , out=noty );</span><br><span class="line">    Mux16(a=y1 , b=noty , sel=ny , out=y2 );</span><br><span class="line">    </span><br><span class="line">    // f</span><br><span class="line">    Add16(a =x2 , b =y2 , out =add ); //+ æ˜¯ æŒ‰ä½åŠ  è¿ç®—add</span><br><span class="line">    And16(a=x2 , b=y2 , out=and ); // &amp; æ˜¯ æŒ‰ä½ä¸ è¿ç®—and</span><br><span class="line">    Mux16(a=and , b=add , sel=f , out=l1 );</span><br><span class="line">    </span><br><span class="line">    // no</span><br><span class="line">    Not16(in=l1 , out=l2 );</span><br><span class="line">    Mux16(a=l1, b=l2, sel=no, out=out,out[0..7]=kk1, out[8..15]=kk2, out[15]=kk);</span><br><span class="line">    // kkæ˜¯ç²¾å ï¼</span><br><span class="line">    </span><br><span class="line">    // zr</span><br><span class="line">    Or8Way(in=kk1, out=zr1);</span><br><span class="line">    Or8Way(in=kk2, out=zr2);</span><br><span class="line">    Or(a=zr1, b=zr2, out=zrNot);</span><br><span class="line">    Not(in=zrNot, out=zr);</span><br><span class="line"></span><br><span class="line">    // ng</span><br><span class="line">    Mux(a=false, b=kk, sel=zrNot, out=ng); </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>nand2tetris</tag>
      </tags>
  </entry>
  <entry>
    <title>proj3</title>
    <url>/2025/05/02/nand2tetris-proj3-final-2/</url>
    <content><![CDATA[<h3 id="3-1-Sequential-Logicï¼ˆé€»è¾‘æ—¶åºï¼‰"><a href="#3-1-Sequential-Logicï¼ˆé€»è¾‘æ—¶åºï¼‰" class="headerlink" title="3.1 Sequential Logicï¼ˆé€»è¾‘æ—¶åºï¼‰"></a>3.1 Sequential Logicï¼ˆé€»è¾‘æ—¶åºï¼‰</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407103408721.png" alt="image-20250407103408721"></p>
<h4 id="The-Clock"><a href="#The-Clock" class="headerlink" title="The Clock"></a>The Clock</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407103559711.png" alt="image-20250407103559711"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407103651219.png" alt="image-20250407103651219"></p>
<p>â­</p>
<h4 id="Combinatorial-Logic-vs-Sequential-Logic"><a href="#Combinatorial-Logic-vs-Sequential-Logic" class="headerlink" title="Combinatorial Logic vs. Sequential Logic"></a>Combinatorial Logic vs. Sequential Logic</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407104103457.png" alt="image-20250407104103457"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407104118222.png" alt="image-20250407104118222"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407104217914.png" alt="image-20250407104217914"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407104323702.png" alt="image-20250407104323702"></p>
<h3 id="3-2-Flip-Flops-è§¦å‘å™¨"><a href="#3-2-Flip-Flops-è§¦å‘å™¨" class="headerlink" title="3.2 Flip Flops è§¦å‘å™¨"></a>3.2 Flip Flops è§¦å‘å™¨</h3><p>åˆ¶ä½œï¼šå…è®¸ä¸Šä¸€æ­¥æ“ä½œçš„èŠ¯ç‰‡</p>
<p>â­</p>
<h4 id="D-è§¦å‘å™¨"><a href="#D-è§¦å‘å™¨" class="headerlink" title="D è§¦å‘å™¨"></a><strong>D è§¦å‘å™¨</strong></h4><p><strong>æ¢å¥è¯è¯´ï¼ŒDFF ç®€å•åœ°å°†å‰ä¸€ä¸ªæ—¶é—´å‘¨æœŸçš„è¾“å…¥å€¼ä½œä¸ºå½“å‰å‘¨æœŸçš„è¾“å‡ºã€‚ğ‘œğ‘¢ğ‘¡(ğ‘¡)&#x3D;ğ‘–ğ‘›(ğ‘¡âˆ’1)</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407131732664.png" alt="image-20250407131732664"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407125650242.png" alt="image-20250407125650242"></p>
<h4 id="æ—¶åºé€»è¾‘çš„åŸç†"><a href="#æ—¶åºé€»è¾‘çš„åŸç†" class="headerlink" title="æ—¶åºé€»è¾‘çš„åŸç†"></a><strong>æ—¶åºé€»è¾‘çš„åŸç†</strong></h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407130044516.png" alt="image-20250407130044516"></p>
<h4 id="å¯„å­˜å™¨-Bit"><a href="#å¯„å­˜å™¨-Bit" class="headerlink" title="å¯„å­˜å™¨ Bit"></a>å¯„å­˜å™¨ Bit</h4><p>ã€å¯„å­˜å™¨ï¼ˆä¹Ÿï¼‰æ˜¯ä¸€ç§å¸¸ç”¨çš„æ—¶åºé€»è¾‘ç”µè·¯ã€‘</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407130252903.png" alt="image-20250407130252903"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407130512040.png" alt="image-20250407130512040"></p>
<h4 id="implement"><a href="#implement" class="headerlink" title="implement"></a>implement</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407130642446.png" alt="image-20250407130642446"></p>
<h4 id="show"><a href="#show" class="headerlink" title="show"></a>show</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407131134475.png" alt="image-20250407131134475"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407131141487.png" alt="image-20250407131141487"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407131153974.png" alt="image-20250407131153974"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407131219341.png" alt="image-20250407131219341"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407131249812.png" alt="image-20250407131249812"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407131306313.png" alt="image-20250407131306313"></p>
<h3 id="3-3-Memory-Units"><a href="#3-3-Memory-Units" class="headerlink" title="3.3 Memory Units"></a>3.3 Memory Units</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407162440343.png" alt="image-20250407162440343"></p>
<h4 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407162636276.png" alt="image-20250407162636276"></p>
<h4 id="The-most-basic-memory-element-Register"><a href="#The-most-basic-memory-element-Register" class="headerlink" title="The most basic memory element: Register"></a>The most basic memory element: Register</h4><p><img src="C:\Users\99512\AppData\Roaming\Typora\typora-user-images\image-20250407162706895.png" alt="image-20250407162706895"></p>
<p>â­ ï¼ˆå¹¶ç€æ’åˆ—çš„ï¼‰</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407162832550.png" alt="image-20250407162832550"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407163056209.png" alt="image-20250407163056209"></p>
<h4 id="RAM-unit"><a href="#RAM-unit" class="headerlink" title="RAM unit"></a>RAM unit</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407163925696.png" alt="image-20250407163925696"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164114314.png" alt="image-20250407164114314"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164124566.png" alt="image-20250407164124566"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164321731.png" alt="image-20250407164321731"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164328029.png" alt="image-20250407164328029"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164336551.png" alt="image-20250407164336551"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164355607.png" alt="image-20250407164355607"></p>
<p>ï¼ˆé€»è¾‘æ—¶åºçš„èŠ¯ç‰‡ï¼‰</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164409494.png" alt="image-20250407164409494"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164444136.png" alt="image-20250407164444136"></p>
<h4 id="RAM-Read-Logic"><a href="#RAM-Read-Logic" class="headerlink" title="RAM &#x2F; Read Logic"></a>RAM &#x2F; Read Logic</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164613906.png" alt="image-20250407164613906"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164723446.png" alt="image-20250407164723446"></p>
<h4 id="RAM-Write-Logic"><a href="#RAM-Write-Logic" class="headerlink" title="RAM &#x2F; Write Logic"></a>RAM &#x2F; Write Logic</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407164822467.png" alt="image-20250407164822467"></p>
<h4 id="A-family-of-16-bit-RAM-chips"><a href="#A-family-of-16-bit-RAM-chips" class="headerlink" title="A family of 16-bit RAM chips"></a>A family of 16-bit RAM chips</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407165748845.png" alt="image-20250407165748845"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407165903504.png" alt="image-20250407165903504"></p>
<h3 id="3-4-Counters"><a href="#3-4-Counters" class="headerlink" title="3.4  Counters"></a>3.4  Counters</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407183128147.png" alt="image-20250407183128147"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407183216165.png" alt="image-20250407183216165"></p>
<p>(Inc ä»£è¡¨å¢é‡[+1])</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250407183416972.png" alt="image-20250407183416972"></p>
<h3 id="3-5-code"><a href="#3-5-code" class="headerlink" title="3.5 code"></a>3.5 code</h3><h4 id="previewï¼šDFF"><a href="#previewï¼šDFF" class="headerlink" title="previewï¼šDFF"></a>previewï¼šDFF</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250415121843294.png" alt="image-20250415121843294"></p>
<hr>
<h4 id="1-bit-register-èŠ¯ç‰‡"><a href="#1-bit-register-èŠ¯ç‰‡" class="headerlink" title="1-bit register èŠ¯ç‰‡"></a>1-bit register èŠ¯ç‰‡</h4><ul>
<li>è¾“å…¥ä¸€ä¸ª1-bitçš„æ•°ã€‚å¦‚æœload&#x3D;1ï¼Œä¸‹ä¸€ç§’è¾“å…¥è¯¥æ•°ï¼Œå¦‚æœload&#x3D;0ï¼Œä¸‹ä¸€ç§’ä¿æŒåŸæ¥çš„æ•°å€¼ã€‚</li>
<li>register ä¸­æ–‡ï¼š<strong>å¯„å­˜å™¨</strong></li>
</ul>
<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250415122014364.png" alt="image-20250415122014364" style="zoom:80%;" />

<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250415122027636.png" style="zoom:67%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHIP Bit &#123;</span><br><span class="line">    IN in, load;</span><br><span class="line">    OUT out;</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    Mux(a=out2 , b=in , sel=load , out=w1 );</span><br><span class="line">    DFF(in=w1 , out=out,out=out2 );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="16-bit-register-èŠ¯ç‰‡"><a href="#16-bit-register-èŠ¯ç‰‡" class="headerlink" title="16-bit register èŠ¯ç‰‡"></a>16-bit register èŠ¯ç‰‡</h4><ul>
<li>è¾“å…¥ä¸€ä¸ª16-bitçš„æ•°ã€‚æ ¹æ®loadï¼Œä¸‹ä¸€ç§’è¾“å‡ºè¯¥æ•°ï¼Œæˆ–è€…ä¸‹ä¸€ç§’ä¿æŒä¸Šä¸€ç§’çš„å€¼ã€‚</li>
<li>1ä¸ªloadå†³å®š16ä¸ªè¾“å‡ºã€‚16ä¸ª1-bit registerèŠ¯ç‰‡å¹¶æ’ã€‚</li>
<li>å¯¹æ¯ä¸€ä½è¿›è¡Œloadè¿ç®—</li>
<li>æœ€ç»ˆçš„è¾“å…¥&#x2F;è¾“å‡º éƒ½æ˜¯ <strong>ä¸€ä¸ª</strong> 16-bitçš„æ•°</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/OIP-C%20(1).jpg"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/OIP-C%20(3).jpg"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 16-bit å¯„å­˜å™¨! </span><br><span class="line">CHIP Register &#123;</span><br><span class="line">    IN in[16], load;</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    //å¯¹16bitçš„æ¯ä¸€ä½è¿›è¡Œloadï¼Œå½“loadä¸º1çš„æ—¶å€™ç»™ å¯¹åº”ä½ å‚¨å­˜å€¼</span><br><span class="line">    Bit(in=in[15] , load=load , out=out[15] );</span><br><span class="line">    Bit(in=in[14] , load=load , out=out[14] );</span><br><span class="line">    Bit(in=in[13] , load=load , out=out[13] );</span><br><span class="line">    Bit(in=in[12] , load=load , out=out[12] );</span><br><span class="line">    Bit(in=in[11] , load=load , out=out[11] );</span><br><span class="line">    Bit(in=in[10] , load=load , out=out[10] );</span><br><span class="line">    Bit(in=in[9] , load=load , out=out[9] );</span><br><span class="line">    Bit(in=in[8] , load=load , out=out[8] );</span><br><span class="line">    Bit(in=in[7] , load=load , out=out[7] );</span><br><span class="line">    Bit(in=in[6] , load=load , out=out[6] );</span><br><span class="line">    Bit(in=in[5] , load=load , out=out[5] );</span><br><span class="line">    Bit(in=in[4] , load=load , out=out[4] );</span><br><span class="line">    Bit(in=in[3] , load=load , out=out[3] );</span><br><span class="line">    Bit(in=in[2] , load=load , out=out[2] );</span><br><span class="line">    Bit(in=in[1] , load=load , out=out[1] );</span><br><span class="line">    Bit(in=in[0] , load=load , out=out[0] );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="RAM8"><a href="#RAM8" class="headerlink" title="RAM8"></a>RAM8</h4><ul>
<li>8ä¸ª 16-bitå¯„å­˜å™¨ï¼Œå¹¶æ’æ”¾åœ¨RAM8é‡Œã€‚</li>
<li>è¾“å…¥ï¼š<strong>ä¸€ä¸ª</strong>16-bit çš„æ•°ã€‚è¾“å‡ºä¸º <strong>ä¸€ä¸ª</strong> 16-bit çš„æ•°  ï¼ˆ<strong>æ•°æœ€å¤§ 16-bit</strong>ï¼Œå¯å°ç‚¹ï¼‰</li>
<li>â­æ ¹æ®ä¸‰ä½æ•°åœ°å€addresså†³å®šç»™    å“ª<strong>ä¸€ä¸ª</strong>   registerå‚¨å­˜å€¼ã€‚</li>
<li>å¯¹åº”çš„è¢«è°ƒåˆ°çš„å¯„å­˜å™¨çš„loadä¼šè¢«æ‰“å¼€ï¼Œload&#x3D;1ã€‚</li>
</ul>
<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy82Njg0OTktNzY0NDYzZDgxYjExYWI4Mi5qcGc.png" style="zoom: 33%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHIP RAM8 &#123;</span><br><span class="line">    IN in[16], load, address[3];  // addressæœ‰3ä½ï¼Œèƒ½è§£ç æˆ 2çš„ä¸‰æ¬¡æ–¹= 8ä¸ª ä¸ä¸€æ ·çš„ ä¸‰ä½æ•°</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    //å‡è®¾addressä¸º000ï¼Œloadä¸º 1ã€‚DMux8Wayä¼šæŠŠloadä¿¡å·åˆ†é…åˆ°è¾“å‡ºç«¯å£aï¼Œ</span><br><span class="line">    //ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå¯„å­˜å™¨çš„loadç«¯å£ä¼šæ¥æ”¶åˆ°å€¼ä¸º 1 çš„ä¿¡å·ï¼Œè€Œå…¶ä½™å¯„å­˜å™¨çš„loadç«¯å£ä¼šæ¥æ”¶åˆ°å€¼ä¸º 0 çš„ä¿¡å·ï¼ˆå³ä¸æ”¹å˜è‡ªèº«çš„å€¼ï¼‰</span><br><span class="line">    DMux8Way(in = load,sel = address,a = a,b = b,c = c,d = d,e = e,f = f,g = g,h = h);</span><br><span class="line"></span><br><span class="line">    Register(in=in , load=a , out=outa );</span><br><span class="line">    Register(in=in , load=b , out=outb );</span><br><span class="line">    Register(in=in , load=c , out=outc );</span><br><span class="line">    Register(in=in , load=d , out=outd );</span><br><span class="line">    Register(in=in , load=e , out=oute );</span><br><span class="line">    Register(in=in , load=f , out=outf );</span><br><span class="line">    Register(in=in , load=g , out=outg );</span><br><span class="line">    Register(in=in , load=h , out=outh );</span><br><span class="line"></span><br><span class="line">    Mux8Way16(a=outa , b=outb , c=outc , d=outd , e=oute , f=outf , g=outg , h=outh , sel=address , out=out);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="RAM64"><a href="#RAM64" class="headerlink" title="RAM64"></a>RAM64</h4><ul>
<li><strong>åŸç†åŒRAM8ï¼šä¸€ä¸ªæœ€å¤§16-bitçš„è¾“å…¥ï¼Œæ ¹æ®addressï¼ˆè§£ç åï¼‰å†³å®šæŠŠæ”¹ ä¸€ä½æ•°å€¼ ä¿å­˜åœ¨å“ªä¸ªåœ°æ–¹ï¼ˆè¯¥åœ°æ–¹çš„loadä¼šæ‰“å¼€ï¼‰</strong></li>
<li>ï¼ˆç»“æ„ç”± 8ä¸ªRAM8 å¹¶æ’æ‹¼ä¸€èµ·ï¼Œè§£ç ç«¯å£å˜å¤šäº†ç‚¹ï¼Œå½“ç„¶äº†addressä¹Ÿé•¿äº†ç‚¹ï¼‰</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> CHIP RAM64 &#123;</span><br><span class="line">    IN in[16], load, address[6];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    DMux8Way(in = load,sel = address[3..5],a = a,b = b,c = c,d = d,e = e,f = f,g = g,h = h);</span><br><span class="line">    //ä¸¤å±‚è§£ç ï¼šç¬¬ä¸€å±‚ï¼Œç”¨å‰3ä½åŒºåˆ†å¼€8ä¸ªä¸ä¸€æ ·çš„RAM8</span><br><span class="line"></span><br><span class="line">	// ç¬¬äºŒå±‚ï¼Œç”¨åä¸‰ä½ï¼ŒåŒºåˆ†å¼€æ¥æ¯ä¸ªRAM8çš„8ä¸ªä¸åŒçš„å¯„å­˜å™¨ã€‚ï¼ˆè¿™æ ·å­å°±åŒºåˆ†å¼€æ¥äº†8*8=64ä¸ªå¯„å­˜å™¨ï¼‰</span><br><span class="line">    RAM8(in=in , load=a , address=address[0..2] , out=outa );</span><br><span class="line">    RAM8(in=in , load=b , address=address[0..2] , out=outb );</span><br><span class="line">    RAM8(in=in , load=c , address=address[0..2] , out=outc );</span><br><span class="line">    RAM8(in=in , load=d , address=address[0..2] , out=outd );</span><br><span class="line">    RAM8(in=in , load=e , address=address[0..2] , out=oute );</span><br><span class="line">    RAM8(in=in , load=f , address=address[0..2] , out=outf );</span><br><span class="line">    RAM8(in=in , load=g , address=address[0..2] , out=outg );</span><br><span class="line">    RAM8(in=in , load=h , address=address[0..2] , out=outh );</span><br><span class="line"></span><br><span class="line">    Mux8Way16(a=outa , b=outb , c=outc , d=outd , e=oute , f=outf , g=outg , h=outh , sel=address[3..5] , out=out);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="RAM512"><a href="#RAM512" class="headerlink" title="RAM512"></a>RAM512</h4><ul>
<li>åŸç†åŒä¸Šï¼Œå°±æ˜¯ç§¯æœ¨ä»å°æ‹¼åˆ°å¤§ï¼ˆ8ä¸ªRAM64ï¼‰</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHIP RAM512 &#123;</span><br><span class="line">    IN in[16], load, address[9];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    DMux8Way(in = load,sel = address[6..8],a = a,b = b,c = c,d = d,e = e,f = f,g = g,h = h);</span><br><span class="line"></span><br><span class="line">    RAM64(in=in , load=a , address=address[0..5] , out=outa );</span><br><span class="line">    RAM64(in=in , load=b , address=address[0..5] , out=outb );</span><br><span class="line">    RAM64(in=in , load=c , address=address[0..5] , out=outc );</span><br><span class="line">    RAM64(in=in , load=d , address=address[0..5] , out=outd );</span><br><span class="line">    RAM64(in=in , load=e , address=address[0..5] , out=oute );</span><br><span class="line">    RAM64(in=in , load=f , address=address[0..5] , out=outf );</span><br><span class="line">    RAM64(in=in , load=g , address=address[0..5] , out=outg );</span><br><span class="line">    RAM64(in=in , load=h , address=address[0..5] , out=outh );</span><br><span class="line"></span><br><span class="line">    Mux8Way16(a=outa , b=outb , c=outc , d=outd , e=oute , f=outf , g=outg , h=outh , sel=address[6..8] , out=out);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="RAM4K"><a href="#RAM4K" class="headerlink" title="RAM4K"></a>RAM4K</h4><ul>
<li>8ä¸ªRAM512</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> CHIP RAM4K &#123;</span><br><span class="line">    IN in[16], load, address[12];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    DMux8Way(in = load,sel = address[9..11],a = a,b = b,c = c,d = d,e = e,f = f,g = g,h = h);</span><br><span class="line">    //å‡è®¾addressä¸º000ï¼Œloadä¸º 1ã€‚DMux8Wayä¼šæŠŠloadä¿¡å·åˆ†é…åˆ°è¾“å‡ºç«¯å£aã€‚</span><br><span class="line"></span><br><span class="line">    RAM512(in=in , load=a , address=address[0..8] , out=outa );</span><br><span class="line">    RAM512(in=in , load=b , address=address[0..8] , out=outb );</span><br><span class="line">    RAM512(in=in , load=c , address=address[0..8] , out=outc );</span><br><span class="line">    RAM512(in=in , load=d , address=address[0..8] , out=outd );</span><br><span class="line">    RAM512(in=in , load=e , address=address[0..8] , out=oute );</span><br><span class="line">    RAM512(in=in , load=f , address=address[0..8] , out=outf );</span><br><span class="line">    RAM512(in=in , load=g , address=address[0..8] , out=outg );</span><br><span class="line">    RAM512(in=in , load=h , address=address[0..8] , out=outh );</span><br><span class="line"></span><br><span class="line">    Mux8Way16(a=outa , b=outb , c=outc , d=outd , e=oute , f=outf , g=outg , h=outh , sel=address[9..11] , out=out);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="RAM16K"><a href="#RAM16K" class="headerlink" title="RAM16K"></a>RAM16K</h4><ul>
<li>4ä¸ªRAM4K</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> CHIP RAM16K &#123;</span><br><span class="line">    IN in[16], load, address[14];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    DMux4Way(in = load,sel = address[12..13],a = a,b = b,c = c,d = d);</span><br><span class="line">    // å‰ä¸¤ä½ç”¨æ¥åŒºåˆ†4ä¸ªRAM4Kï¼Œåé¢12ä½æ˜¯RAM4Kæ‰€éœ€çš„addressã€‚ </span><br><span class="line"></span><br><span class="line">    RAM4K(in=in , load=a , address=address[0..11] , out=outa );</span><br><span class="line">    RAM4K(in=in , load=b , address=address[0..11] , out=outb );</span><br><span class="line">    RAM4K(in=in , load=c , address=address[0..11] , out=outc );</span><br><span class="line">    RAM4K(in=in , load=d , address=address[0..11] , out=outd );</span><br><span class="line">    </span><br><span class="line">    Mux4Way16(a=outa , b=outb , c=outc , d=outd , sel=address[12..13] , out=out);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250415131408114.png" alt="image-20250415131408114" style="zoom:50%;" />



<h4 id="CHIP-PC"><a href="#CHIP-PC" class="headerlink" title="CHIP PC"></a>CHIP PC</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/747e5d538c8e16996b67320f42e7e77.jpg" alt="747e5d538c8e16996b67320f42e7e77"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * A 16-bit counter. è®¡æ•°å™¨å§ï¼Ÿï¼Ÿï¼Ÿ</span><br><span class="line"> * if      reset(t): out(t+1) = 0</span><br><span class="line"> * else if load(t):  out(t+1) = in(t)</span><br><span class="line"> * else if inc(t):   out(t+1) = out(t) + 1</span><br><span class="line"> * else              out(t+1) = out(t)</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line">CHIP PC &#123;</span><br><span class="line">    IN in[16], reset, load, inc;</span><br><span class="line">    OUT out[16];</span><br><span class="line">    </span><br><span class="line">    PARTS:</span><br><span class="line"></span><br><span class="line">    Inc16(in = feedback,out = incout);</span><br><span class="line">    Mux16(a = feedback,b = incout,sel = inc,out = out1);</span><br><span class="line">    Mux16(a = out1,b = in,sel = load,out = out2);</span><br><span class="line">    Mux16(a = out2,b = false,sel = reset,out = out3);</span><br><span class="line"></span><br><span class="line">    Register(in = out3,load = true,out = out,out = feedback);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>nand2tetris</tag>
      </tags>
  </entry>
  <entry>
    <title>proj4</title>
    <url>/2025/05/03/nand2tetris-proj4-final/</url>
    <content><![CDATA[<h2 id="Machine-Language"><a href="#Machine-Language" class="headerlink" title="Machine Language"></a>Machine Language</h2><h3 id="4-1-Machine-Languages-Overview"><a href="#4-1-Machine-Languages-Overview" class="headerlink" title="4.1 Machine Languages  : Overview"></a>4.1 Machine Languages  : Overview</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502141034037.png" alt="image-20250502141034037"></p>
<h4 id="å†…éƒ¨ï¼š"><a href="#å†…éƒ¨ï¼š" class="headerlink" title="å†…éƒ¨ï¼š"></a>å†…éƒ¨ï¼š</h4><ul>
<li><p>å†…å­˜åŒ…æ‹¬ï¼šç¨‹åºå†…å­˜å’Œæ•°æ®å†…å­˜</p>
</li>
<li><p>ç¡¬ä»¶æ˜¯å›ºå®šçš„ï¼Œè½¯ä»¶å¯æ›´æ”¹</p>
</li>
<li><p>è½¯ä»¶å˜åŒ–ï¼Œ<strong>æ•…è®¡ç®—æœºå¯åšä¸åŒçš„äº‹æƒ…</strong>ï¼ˆè®¡ç®—æœºçš„universalityï¼‰</p>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408125639911.png" alt="image-20250408125639911"></p>
<p>let us see how hardware can do many things:</p>
<ul>
<li>byç¡¬ä»¶é€ä¸ªæ‰§è¡ŒæŒ‡ä»¤ï¼ŒæŠŠæ•´ä¸ªæŒ‡ä»¤åºåˆ—æ‰§è¡Œå®Œæ”¾åœ¨ä¸€èµ·ï¼Œå°±å¾—åˆ°äº†æ•´ä¸ªç¨‹åºçš„åŠŸèƒ½ã€‚</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408125753379.png" alt="image-20250408125753379"></p>
<h4 id="â­3-Question"><a href="#â­3-Question" class="headerlink" title="â­3-Question"></a>â­3-Question</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408125900431.png" alt="image-20250408125900431"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408125917903.png" alt="image-20250408125917903"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408125923522.png" alt="image-20250408125923522"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408125934885.png" alt="image-20250408125934885"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502141034037.png"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408130008095.png" alt="image-20250408130008095"><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408130013135.png" alt="image-20250408130013135"></p>
<hr>
<h4 id="machine-language-â†-assembly-language"><a href="#machine-language-â†-assembly-language" class="headerlink" title="machine language â† assembly language"></a>machine language â† assembly language</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408130111212.png" alt="image-20250408130111212"></p>
<p>æˆ‘ä»¬å†™ç¨‹åºç”¨çš„æ˜¯é«˜çº§è¯­è¨€ï¼Œä½†ç”µè„‘çœŸæ­£ç†è§£å’Œæ‰§è¡Œçš„æ˜¯æœºå™¨è¯­è¨€</p>
<p>ï¼ˆå…¶å®é‡Œé¢çš„ç¼–è¯‘å™¨æ˜¯åˆ†ä¸¤éƒ¨çš„ï¼Œç¬¬ä¸€æ­¥æ˜¯é«˜çº§è¯­è¨€â†’æ±‡ç¼–è¯­è¨€ï¼Œç¬¬äºŒæ­¥æ˜¯æ±‡ç¼–è¯­è¨€â†’æœºå™¨è¯­è¨€ï¼Œnowçœ‹çš„æ˜¯part1ï¼‰</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408130331472.png" alt="image-20250408130331472"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408130344599.png" alt="image-20250408130344599"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408130425028.png" alt="image-20250408130425028"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408130503603.png" alt="image-20250408130503603"></p>
<p>ç¬¬ä¸€ç§è§£é‡Š</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408130536998.png" alt="image-20250408130536998"></p>
<p>ç¬¬äºŒç§è§£é‡Š</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408130616234.png" alt="image-20250408130616234"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408131151981.png" alt="image-20250408131151981"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408131707478.png" alt="image-20250408131707478"></p>
<p>next </p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408131747616.png" alt="image-20250408131747616"></p>
<hr>
<h3 id="4-2-Machine-Languages-Elements"><a href="#4-2-Machine-Languages-Elements" class="headerlink" title="4.2  Machine Languages  : Elements"></a>4.2  Machine Languages  : Elements</h3><h4 id="Machine-Language-1"><a href="#Machine-Language-1" class="headerlink" title="Machine Language"></a>Machine Language</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408132050542.png" alt="image-20250408132050542"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408132302481.png" alt="image-20250408132302481"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408132600568.png" alt="image-20250408132600568"></p>
<h4 id="Memory-Hierarchy"><a href="#Memory-Hierarchy" class="headerlink" title="Memory Hierarchy"></a>Memory Hierarchy</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408132620787.png" alt="image-20250408132620787"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408132737232.png" alt="image-20250408132737232"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502144445704.png" alt="image-20250502144445704"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408132934690.png" alt="image-20250408132934690"></p>
<h4 id="Registers-ï¼ˆin-CPUï¼‰ï¼ˆQ1Q3ï¼‰"><a href="#Registers-ï¼ˆin-CPUï¼‰ï¼ˆQ1Q3ï¼‰" class="headerlink" title="Registers ï¼ˆin CPUï¼‰ï¼ˆQ1Q3ï¼‰"></a>Registers ï¼ˆin CPUï¼‰ï¼ˆQ1Q3ï¼‰</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133025180.png" alt="image-20250408133025180"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133054897.png" alt="image-20250408133054897"></p>
<p><strong>ç”¨æ³•&#x2F;ç±»å‹â‘ </strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502144901245.png" alt="image-20250502144901245"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502144827311.png" alt="image-20250502144827311"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133256967.png" alt="image-20250408133256967"></p>
<p><strong>ç”¨æ³•&#x2F;ç±»å‹â‘¡</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502144926736.png" alt="image-20250502144926736"></p>
<p>so that we can</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502145149469.png" alt="image-20250502145149469"></p>
<p>eg</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502145219880.png" alt="image-20250502145219880"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133356395.png" alt="image-20250408133356395"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133409201.png" alt="image-20250408133409201"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133424956.png" alt="image-20250408133424956"></p>
<h4 id="Addressing-Modes"><a href="#Addressing-Modes" class="headerlink" title="Addressing Modes"></a>Addressing Modes</h4><ul>
<li>ç°åœ¨å›åˆ°æœ€åˆçš„é—®é¢˜ï¼š</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133452806.png" alt="image-20250408133452806"></p>
<ul>
<li>å‡è®¾æ˜¯ä¸€ä¸ªç®€å•çš„æ“ä½œï¼šé‚£ä¹ˆå®ƒåº”è¯¥åœ¨ä»€ä¹ˆä¸Šé¢æ“ä½œï¼Ÿ<ul>
<li>ä»¥ä¸‹æ˜¯å››ç§ç±»å‹çš„æ“ä½œï¼š</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133504911.png" alt="image-20250408133504911"></p>
<h4 id="Intput-Output"><a href="#Intput-Output" class="headerlink" title="Intput &#x2F; Output"></a>Intput &#x2F; Output</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133742680.png" alt="image-20250408133742680"></p>
<h4 id="Flow-Controlï¼ˆQ2ï¼‰"><a href="#Flow-Controlï¼ˆQ2ï¼‰" class="headerlink" title="Flow Controlï¼ˆQ2ï¼‰"></a>Flow Controlï¼ˆQ2ï¼‰</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133830358.png" alt="image-20250408133830358"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133842300.png" alt="image-20250408133842300"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408133918049.png" alt="image-20250408133918049"></p>
<ul>
<li>æˆ‘ä»¬å¯ä»¥æŠŠ102ä½ç½®å‘½åä¸ºloop</li>
<li>å®é™…ä¸Šï¼Œç”¨æœºå™¨è¯­è¨€çš„ä½å†™å®ƒæ—¶ï¼Œè¡¨ç¤ºçš„æ˜¯ä¸€æ ·çš„</li>
<li>åªæ˜¯ loop å¯¹äººç±»æ¥è¯´æ›´å®¹æ˜“çœ‹</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408134216292.png" alt="image-20250408134216292"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408134345222.png" alt="image-20250408134345222"></p>
<hr>
<h2 id="HACK-Language"><a href="#HACK-Language" class="headerlink" title="HACK Language"></a>HACK Language</h2><h3 id="4-3-HACK-Computer-and-Language-Overview"><a href="#4-3-HACK-Computer-and-Language-Overview" class="headerlink" title="4.3 HACK Computer and Language (Overview)"></a>4.3 HACK Computer and Language (Overview)</h3><h4 id="hardware"><a href="#hardware" class="headerlink" title="hardware"></a>hardware</h4><ul>
<li>ä»¥ä¸‹æ˜¯ä¸‹å‘¨è¦æ­å»ºçš„è®¡ç®—æœºï¼ˆhardwareï¼‰çš„æ¦‚è¿°ï¼š</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408144525868.png" alt="image-20250408144525868"></p>
<h4 id="software"><a href="#software" class="headerlink" title="software"></a>software</h4><ul>
<li>control the computer</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408144707993.png" alt="image-20250408144707993"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408144727327.png" alt="image-20250408144727327"></p>
<h4 id="reset-bottom"><a href="#reset-bottom" class="headerlink" title="reset bottom"></a>reset bottom</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408144804152.png" alt="image-20250408144804152"></p>
<h4 id="registers"><a href="#registers" class="headerlink" title="registers"></a>registers</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408145050542.png" alt="image-20250408145050542"></p>
<ul>
<li>ï¼ˆM è¡¨ç¤º A å¯»å€çš„ 16 ä½ RAM å¯„å­˜å™¨ï¼‰</li>
<li>æ— è®ºå†…å­˜é‡Œæœ‰å¤šå°‘å¯„å­˜å™¨ï¼Œæ¯æ¬¡è¢«é€‰æ‹©çš„åªæœ‰ä¸€ä¸ªï¼Œä¸ºMå¯„å­˜å™¨ã€‚</li>
</ul>
<h4 id="The-A-instruction"><a href="#The-A-instruction" class="headerlink" title="The A-instruction"></a>The A-instruction</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408145242790.png" alt="image-20250408145242790"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408145318144.png" alt="image-20250408145318144"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408145335059.png" alt="image-20250408145335059"></p>
<h4 id="The-C-instruction"><a href="#The-C-instruction" class="headerlink" title="The C-instruction"></a>The C-instruction</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408145347021.png" alt="image-20250408145347021"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408145445185.png" alt="image-20250408145445185"></p>
<ul>
<li><p>destç›®çš„åœ°ï¼Œcompè®¡ç®—ï¼Œjumpè·³è½¬</p>
</li>
<li><p>çœ‹åˆ°Açš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ç”¨Mæ›¿ä»£</p>
</li>
<li><p>eg</p>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408145651883.png" alt="image-20250408145651883"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408145713384.png" alt="image-20250408145713384"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408145750031.png" alt="image-20250408145750031"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408145851786.png" alt="image-20250408145851786"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408150017420.png" alt="image-20250408150017420"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408150027153.png" alt="image-20250408150027153"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408150142297.png" alt="image-20250408150142297"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408150531444.png" alt="image-20250408150531444"></p>
<p>ç”±äºå¯„å­˜å™¨ A çš„å€¼ä¸º 1ï¼Œç¬¬äºŒè¡ŒæŒ‡ä»¤<code>M=A - 1</code>æ‰§è¡Œåï¼Œ<code>A - 1 = 0</code>ï¼Œè¿™ä¸ª 0 ä¼šè¢«å­˜å‚¨åˆ°<code>RAM[1]</code>ä¸­ï¼ˆå› ä¸º M æŒ‡å‘<code>RAM[1]</code> ï¼‰</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408150819756.png" alt="image-20250408150819756"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408150831390.png" alt="image-20250408150831390"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408150843125.png" alt="image-20250408150843125"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408150854396.png" alt="image-20250408150854396"></p>
<hr>
<h3 id="4-4-Hack-Language-plus"><a href="#4-4-Hack-Language-plus" class="headerlink" title="4.4 Hack Language plus"></a>4.4 Hack Language plus</h3><h4 id="Use-Binary-to-write"><a href="#Use-Binary-to-write" class="headerlink" title="Use Binary to write"></a>Use Binary to write</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408152040771.png" alt="image-20250408152040771"></p>
<ul>
<li>ç”¨æœºå™¨è¯­è¨€ï¼ˆ0å’Œ1æ„æˆï¼‰å†™çš„è¯ï¼Œå°±ä¸éœ€è¦æ±‡ç¼–å™¨äº†ã€‚ç”µè„‘ç›´æ¥è¯»æ‡‚ã€‚</li>
<li>ä»‹ç»è¿™ä¸€èŠ‚ï¼Œä¹Ÿæ˜¯ä¸ºäº†æ›´åŠ äº†è§£æœºå™¨è¯­è¨€å’Œæ±‡ç¼–è¯­è¨€çš„è”ç³»ï¼Œä¸ºä¹‹åå†™æ±‡ç¼–å™¨åšé“ºå«</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408152117325.png" alt="image-20250408152117325"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408152332506.png" alt="image-20250408152332506"></p>
<h4 id="C-ins"><a href="#C-ins" class="headerlink" title="C-ins"></a>C-ins</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408152519706.png" alt="image-20250408152519706"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408152600779.png" alt="image-20250408152600779"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408152758307.png" alt="image-20250408152758307"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408152841602.png" alt="image-20250408152841602"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408152923618.png" alt="image-20250408152923618"></p>
<h4 id="Eg"><a href="#Eg" class="headerlink" title="Eg"></a>Eg</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502154554223.png" alt="image-20250502154554223"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502154613246.png" alt="image-20250502154613246"></p>
<p>next</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408153534999.png" alt="image-20250408153534999"></p>
<hr>
<h3 id="4-5-Input-Ouput"><a href="#4-5-Input-Ouput" class="headerlink" title="4.5 Input &#x2F; Ouput"></a>4.5 Input &#x2F; Ouput</h3><ul>
<li>æœ¬èŠ‚è®¨è®ºï¼šå¦‚ä½•é€šè¿‡ä½¿ç”¨æœºå™¨è¯­è¨€ æ¥æ§åˆ¶å’Œæ“ä½œ è¿™äº›I&#x2F;Oè®¾å¤‡</li>
</ul>
<h4 id="Hack-computer-platform"><a href="#Hack-computer-platform" class="headerlink" title="Hack computer platform"></a>Hack computer platform</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408154943693.png" alt="image-20250408154943693"></p>
<p>å®ç°ï¼š</p>
<ul>
<li>ä»¥åçš„è½¯ä»¶éƒ¨åˆ†ï¼Œä¼šç”¨åˆ°é«˜çº§è¯­è¨€çš„åº“æ¥å®ç°high-level</li>
<li>ä½†æ˜¯ç°åœ¨ï¼Œåªèƒ½ç”¨bitæ¥å®ç°low-level</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408155051269.png" alt="image-20250408155051269"></p>
<h4 id="OutPut"><a href="#OutPut" class="headerlink" title="OutPut"></a>OutPut</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408155241432.png" alt="image-20250408155241432"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502155831854.png" alt="image-20250502155831854"></p>
<h4 id="Screen-memory-map"><a href="#Screen-memory-map" class="headerlink" title="Screen memory map"></a>Screen memory map</h4><ul>
<li>make a deep study in â€¦</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502160036115.png" alt="image-20250502160036115"></p>
<ul>
<li><p>æ¯è¡Œæ¯åˆ—çš„äº¤å‰ç‚¹ï¼Œéƒ½æœ‰æ‰€è°“çš„åƒç´ ã€‚</p>
</li>
<li><p>how do we control it?</p>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408155514485.png" alt="image-20250408155514485"></p>
<ul>
<li><p>è¿™äº›å€¼çš„æ¯ä¸€ä¸ªæœ‰æ—¶è¢«ç§°ä¸ºä¸€ä¸ªå•è¯</p>
</li>
<li><p>æ‰€ä»¥æœ‰8kï¼Œæ¯ä¸€ä¸ªéƒ½æ˜¯16bitçš„å•è¯</p>
</li>
<li><p>åƒç´ æ€ä¹ˆç®—ï¼š8k*16â‰ˆ130,000</p>
</li>
<li><p>ä¸€ä¸ªåƒç´ å°±æ˜¯ä¸€ä¸ªbitï¼Œä¸€ä¸ªbitå°±æ˜¯ä¸€ä¸ªåƒç´ </p>
</li>
<li><p>é‚£ä¹ˆæ€ä¹ˆå¯¹åº”å‘¢ï¼Ÿå“ªä¸ªbitä½äºå“ªä¸ªåƒç´ ï¼Ÿ</p>
</li>
<li><p>512&#x2F;16&#x3D;32ï¼Œä¸€è¡Œ32ä¸ªå•è¯ã€‚</p>
</li>
<li><p>ä¾‹å¦‚å›¾ç‰‡å·¦ä¸Šçš„4ä¸ªé»‘ç‚¹å°±æ˜¯ç¬¬ä¸€ä¸ªå•è¯çš„å‰å››ä½bitï¼ˆrow0ï¼Œcol0-4ï¼‰</p>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408155820456.png" alt="image-20250408155820456"></p>
<ul>
<li>è¿™é‡Œçš„é™¤æ³•æ˜¯æ•´é™¤</li>
<li>ä½œä¸ºå†…å­˜çš„ä¸€éƒ¨åˆ†ï¼Œæ›´å‡†ç¡®çš„åœ°å€æ˜¯ç¬¬äºŒä¸ª</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408160355257.png" alt="image-20250408160355257"></p>
<ul>
<li>å¦‚æœæˆ‘ä»¬æƒ³æ“ä½œå•è¯é‡Œé¢ç‰¹å®šçš„æŸä¸€ä½ï¼Œhowï¼Ÿ</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250502162053196.png"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408160452787.png" alt="image-20250408160452787"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408160937267.png" alt="image-20250408160937267"></p>
<h4 id="Keyboard-memory-map"><a href="#Keyboard-memory-map" class="headerlink" title="Keyboard memory map"></a>Keyboard memory map</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408161538288.png" alt="image-20250408161538288"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408161600439.png" alt="image-20250408161600439"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408161645079.png" alt="image-20250408161645079"><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408161745467.png" alt="image-20250408161745467"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408161911388.png" alt="image-20250408161911388"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408162004740.png" alt="image-20250408162004740"></p>
<hr>
<h3 id="4-6-HackProgramming-Part-1"><a href="#4-6-HackProgramming-Part-1" class="headerlink" title="4.6 HackProgramming  Part 1"></a>4.6 HackProgramming  Part 1</h3><h4 id="ä½¿ç”¨Hackæœºå™¨è¯­è¨€è¿›è¡Œç¼–ç¨‹"><a href="#ä½¿ç”¨Hackæœºå™¨è¯­è¨€è¿›è¡Œç¼–ç¨‹" class="headerlink" title="ä½¿ç”¨Hackæœºå™¨è¯­è¨€è¿›è¡Œç¼–ç¨‹"></a>ä½¿ç”¨Hackæœºå™¨è¯­è¨€è¿›è¡Œç¼–ç¨‹</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408170651825.png" alt="image-20250408170651825"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408170710787.png" alt="image-20250408170710787"></p>
<h5 id="Way1ï¼šbyæ±‡ç¼–å™¨â†’æœºå™¨è¯­è¨€â†’æ‰§è¡Œç¨‹åºï¼ˆå°†åœ¨proj6ç¼–å†™æ±‡ç¼–å™¨ï¼‰"><a href="#Way1ï¼šbyæ±‡ç¼–å™¨â†’æœºå™¨è¯­è¨€â†’æ‰§è¡Œç¨‹åºï¼ˆå°†åœ¨proj6ç¼–å†™æ±‡ç¼–å™¨ï¼‰" class="headerlink" title="Way1ï¼šbyæ±‡ç¼–å™¨â†’æœºå™¨è¯­è¨€â†’æ‰§è¡Œç¨‹åºï¼ˆå°†åœ¨proj6ç¼–å†™æ±‡ç¼–å™¨ï¼‰"></a>Way1ï¼šbyæ±‡ç¼–å™¨â†’æœºå™¨è¯­è¨€â†’æ‰§è¡Œç¨‹åºï¼ˆå°†åœ¨proj6ç¼–å†™æ±‡ç¼–å™¨ï¼‰</h5><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408170815973.png" alt="image-20250408170815973"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408170841654.png" alt="image-20250408170841654"></p>
<h5 id="Way2-æŠŠæœºå™¨è¯­è¨€è¾“å…¥åˆ°-CPU-Emulatorï¼ˆä»¿çœŸå™¨ï¼‰ï¼Œæ‰§è¡Œç¨‹åºï¼ˆæˆ‘ä»¬ç°åœ¨çš„é€‰æ‹©ï¼‰"><a href="#Way2-æŠŠæœºå™¨è¯­è¨€è¾“å…¥åˆ°-CPU-Emulatorï¼ˆä»¿çœŸå™¨ï¼‰ï¼Œæ‰§è¡Œç¨‹åºï¼ˆæˆ‘ä»¬ç°åœ¨çš„é€‰æ‹©ï¼‰" class="headerlink" title="Way2 : æŠŠæœºå™¨è¯­è¨€è¾“å…¥åˆ° CPU Emulatorï¼ˆä»¿çœŸå™¨ï¼‰ï¼Œæ‰§è¡Œç¨‹åºï¼ˆæˆ‘ä»¬ç°åœ¨çš„é€‰æ‹©ï¼‰"></a>Way2 : æŠŠæœºå™¨è¯­è¨€è¾“å…¥åˆ° CPU Emulatorï¼ˆä»¿çœŸå™¨ï¼‰ï¼Œæ‰§è¡Œç¨‹åºï¼ˆæˆ‘ä»¬ç°åœ¨çš„é€‰æ‹©ï¼‰</h5><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408170949958.png" alt="image-20250408170949958"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171006210.png" alt="image-20250408171006210"></p>
<h4 id="4-6-4-7-4-8-è®¨è®ºçš„å†…å®¹ï¼š"><a href="#4-6-4-7-4-8-è®¨è®ºçš„å†…å®¹ï¼š" class="headerlink" title="4.6 4.7 4.8 è®¨è®ºçš„å†…å®¹ï¼š"></a><strong>4.6 4.7 4.8 è®¨è®ºçš„å†…å®¹ï¼š</strong></h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171140334.png" alt="image-20250408171140334"></p>
<h4 id="å¯„å­˜å™¨å’Œå†…å­˜"><a href="#å¯„å­˜å™¨å’Œå†…å­˜" class="headerlink" title="å¯„å­˜å™¨å’Œå†…å­˜"></a>å¯„å­˜å™¨å’Œå†…å­˜</h4><h5 id="å¯„å­˜å™¨ï¼šD-A-M"><a href="#å¯„å­˜å™¨ï¼šD-A-M" class="headerlink" title="å¯„å­˜å™¨ï¼šD A M"></a>å¯„å­˜å™¨ï¼šD A M</h5><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171208123.png" alt="image-20250408171208123"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171221797.png" alt="image-20250408171221797"><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171240428.png" alt="image-20250408171240428"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171249595.png" alt="image-20250408171249595"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171300916.png" alt="image-20250408171300916"><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171306564.png" alt="image-20250408171306564"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171321352.png" alt="image-20250408171321352"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171545734.png" alt="image-20250408171545734"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171835773.png" alt="image-20250408171835773"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408171859789.png" alt="image-20250408171859789"></p>
<h5 id="å¦‚ä½•ç»ˆç»“ç¨‹åº"><a href="#å¦‚ä½•ç»ˆç»“ç¨‹åº" class="headerlink" title="å¦‚ä½•ç»ˆç»“ç¨‹åº"></a>å¦‚ä½•ç»ˆç»“ç¨‹åº</h5><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408172553897.png" alt="image-20250408172553897"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408172808706.png" alt="image-20250408172808706"></p>
<h5 id="å¯è¯»æ€§ï¼ˆHackæœºå™¨è¯­è¨€çš„è§„èŒƒï¼‰"><a href="#å¯è¯»æ€§ï¼ˆHackæœºå™¨è¯­è¨€çš„è§„èŒƒï¼‰" class="headerlink" title="å¯è¯»æ€§ï¼ˆHackæœºå™¨è¯­è¨€çš„è§„èŒƒï¼‰"></a>å¯è¯»æ€§ï¼ˆHackæœºå™¨è¯­è¨€çš„è§„èŒƒï¼‰</h5><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408172907182.png" alt="image-20250408172907182"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408172956750.png" alt="image-20250408172956750"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408173136744.png" alt="image-20250408173136744"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408173149349.png" alt="image-20250408173149349"></p>
<h5 id="Hackè¯­è¨€çš„å†…ç½®ç¬¦å·"><a href="#Hackè¯­è¨€çš„å†…ç½®ç¬¦å·" class="headerlink" title="Hackè¯­è¨€çš„å†…ç½®ç¬¦å·"></a>Hackè¯­è¨€çš„å†…ç½®ç¬¦å·</h5><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408173355650.png" alt="image-20250408173355650"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408173407233.png" alt="image-20250408173407233"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408175526572.png" alt="image-20250408175526572"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408173419671.png" alt="image-20250408173419671"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408173433439.png" alt="image-20250408173433439"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408173511898.png" alt="image-20250408173511898"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408173530087.png"></p>
<hr>
<h3 id="4-7-HackProgramming-Part-2"><a href="#4-7-HackProgramming-Part-2" class="headerlink" title="4.7 HackProgramming  Part 2"></a>4.7 HackProgramming  Part 2</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408175652006.png" alt="image-20250408175652006"></p>
<h4 id="Branching"><a href="#Branching" class="headerlink" title="Branching"></a>Branching</h4><ul>
<li>è¯„ä¼°å¸ƒå°”è¡¨è¾¾å¼æˆ–å¸ƒå°”æ¡ä»¶ï¼Œæ ¹æ®è¿™ä¸ªå€¼å†³å®šæ˜¯å¦è·³è·ƒï¼ˆgo to)</li>
</ul>
<h5 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h5><p>å¯ä»¥çœ‹åˆ°ä¸€å¼€å§‹@åé¢æ˜¯æ•°å­—</p>
<p>(è¿™é‡Œçš„8æ˜¯ç¬¬8æœ‰æ•ˆè¡Œï¼Œä»0å¼€å§‹)</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408175934716.png" alt="image-20250408175934716"></p>
<h5 id="ç¬¦å·å¼•ç”¨"><a href="#ç¬¦å·å¼•ç”¨" class="headerlink" title="ç¬¦å·å¼•ç”¨"></a>ç¬¦å·å¼•ç”¨</h5><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408180345936.png" alt="image-20250408180345936"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408180437096.png" alt="image-20250408180437096"></p>
<p><strong>label ï¼šæœ‰æ‹¬å·ï¼ˆï¼‰çš„å« label ï¼Œå¯ä»¥è¢«å¼•ç”¨ï¼ˆå¦‚ä¸‹å›¾ï¼‰</strong></p>
<p><strong>å¼•ç”¨çš„ç¬¦å·æ˜¯ @</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408180508403.png" alt="image-20250408180508403"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408185937593.png" alt="image-20250408185937593"></p>
<p>ï¼ˆä¸Šå›¾å°å­—ï¼‰</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408180613605.png" alt="image-20250408180613605"></p>
<ul>
<li><p>æ ‡ç­¾å£°æ˜ä¸ä¼šè¢«ç¿»è¯‘ï¼ˆä¸æ˜¯æœ‰æ•ˆè¡Œï¼‰</p>
</li>
<li><p>å¼•ç”¨äº†æ ‡ç­¾ï¼Œå°±è·³è½¬åˆ°æ ‡ç­¾å£°æ˜çš„ä¸‹ä¸€è¡Œï¼ˆæ‰§è¡Œï¼‰</p>
</li>
<li><p>æ ‡ç­¾æ€ä¹ˆè¢«å¼•ç”¨å‘¢ï¼Œå½“è§¦å‘äº†æ¡ä»¶æ—¶</p>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408180736935.png" alt="image-20250408180736935"></p>
<p>æ ‡ç­¾çš„æ„ä¹‰ï¼šè‡ªå·±åšçš„æ ‡ç­¾ä¸ä¼šè¢«ç¼–è¯‘ï¼Œä½†æ˜¯æ¯”æ•°å­—æ›´åŠ å¯è¯»ï¼Œæ›´æ¸…æ¥šåœ°çŸ¥é“ä»€ä¹ˆæ—¶å€™è¿›è¡Œåˆ†æ”¯åˆ†å‰ã€‚</p>
<hr>
<h4 id="Variables"><a href="#Variables" class="headerlink" title="Variables"></a>Variables</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408181502003.png" alt="image-20250408181502003"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408181507772.png" alt="image-20250408181507772"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408181516292.png" alt="image-20250408181516292"></p>
<h5 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h5><p><strong>å˜é‡çš„å£°æ˜</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408181712643.png" alt="image-20250408181712643"></p>
<h5 id="æ ‡ç­¾-å˜é‡-çš„åŒºåˆ«"><a href="#æ ‡ç­¾-å˜é‡-çš„åŒºåˆ«" class="headerlink" title="æ ‡ç­¾ å˜é‡ çš„åŒºåˆ«"></a><strong>æ ‡ç­¾ å˜é‡ çš„åŒºåˆ«</strong></h5><blockquote>
<p>**å˜é‡çš„å¼•ç”¨  **  æ²¡æœ‰()</p>
</blockquote>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408181819165.png" alt="image-20250408181819165"></p>
<h5 id="ç¬¬ä¸€ä¸ªè§‚å¯Ÿ"><a href="#ç¬¬ä¸€ä¸ªè§‚å¯Ÿ" class="headerlink" title="ç¬¬ä¸€ä¸ªè§‚å¯Ÿ"></a>ç¬¬ä¸€ä¸ªè§‚å¯Ÿ</h5><blockquote>
<p><strong>å¼•ç”¨çš„å˜é‡ æˆ–è€… labeléƒ½æ˜¯ä¸è¢«ç¼–è¯‘çš„ï¼Œä½†æ˜¯æœ‰å¯¹åº”çš„æ•°å­—è¢«ç¼–è¯‘</strong></p>
</blockquote>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408181922547.png" alt="image-20250408181922547"></p>
<h5 id="ç¬¬äºŒä¸ªè§‚å¯Ÿ"><a href="#ç¬¬äºŒä¸ªè§‚å¯Ÿ" class="headerlink" title="ç¬¬äºŒä¸ªè§‚å¯Ÿ"></a>ç¬¬äºŒä¸ªè§‚å¯Ÿ</h5><blockquote>
<p>å˜é‡ä»åœ°å€16å¼€å§‹åˆ†é…RAMï¼Œåé¢çš„ä»¥æ­¤ç±»æ¨ã€‚</p>
</blockquote>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408182159346.png" alt="image-20250408182159346"></p>
<h5 id="ç¬¬ä¸‰ä¸ªè§‚å¯Ÿ"><a href="#ç¬¬ä¸‰ä¸ªè§‚å¯Ÿ" class="headerlink" title="ç¬¬ä¸‰ä¸ªè§‚å¯Ÿ"></a>ç¬¬ä¸‰ä¸ªè§‚å¯Ÿ</h5><blockquote>
<p>easy to read and debugï¼ˆå¯é‡å®šä½ä»£ç ï¼‰ <strong>ï¼Ÿï¼Ÿï¼Ÿ</strong></p>
</blockquote>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408182323581.png" alt="image-20250408182323581"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408182346704.png" alt="image-20250408182346704"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408182351776.png" alt="image-20250408182351776"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408182400615.png" alt="image-20250408182400615"></p>
<h4 id="Iterable"><a href="#Iterable" class="headerlink" title="Iterable"></a>Iterable</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408182556754.png" alt="image-20250408182556754"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408182619170.png" alt="image-20250408182619170"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408182712743.png" alt="image-20250408182712743"></p>
<p>é€šç”¨æ­¥éª¤ï¼ˆç¼–å†™æ±‡ç¼–è¯­è¨€çš„ç¨‹åºï¼‰ï¼š</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408183553976.png" alt="image-20250408183553976"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408183605081.png" alt="image-20250408183605081"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408183616168.png" alt="image-20250408183616168"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408183654849.png" alt="image-20250408183654849"></p>
<hr>
<h3 id="4-8HackProgramming-Part-3"><a href="#4-8HackProgramming-Part-3" class="headerlink" title="4.8HackProgramming  Part 3"></a>4.8HackProgramming  Part 3</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408193159878.png" alt="image-20250408193159878"></p>
<h4 id="Pointers"><a href="#Pointers" class="headerlink" title="Pointers"></a>Pointers</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408193340051.png" alt="image-20250408193340051"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408193454956.png" alt="image-20250408193454956"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408193503108.png" alt="image-20250408193503108"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408193614636.png" alt="image-20250408193614636"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408194303828.png" alt="image-20250408194303828"></p>
<h4 id="Input-Output"><a href="#Input-Output" class="headerlink" title="Input &#x2F; Output"></a>Input &#x2F; Output</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408194624386.png" alt="image-20250408194624386"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408194713298.png" alt="image-20250408194713298"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408194740498.png" alt="image-20250408194740498"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408195434479.png" alt="image-20250408195434479"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408195506221.png" alt="image-20250408195506221"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409085602507.png" alt="image-20250409085602507"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409090013332.png" alt="image-20250409090013332"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409090019914.png" alt="image-20250409090019914"></p>
<p>-1çš„äºŒè¿›åˆ¶å°±æ˜¯1111 1111 1111 1111 ,åœ¨å›¾åƒä¸Šå°±æ˜¯ä¸€è¡Œé»‘çº¿ã€‚</p>
<p>ç„¶åç”»ä¸‹ä¸€è¡Œï¼Œå°†åœ°å€+32å°±æ˜¯ä¸‹ä¸€è¡Œäº†ï¼ˆä¸€è¡Œ32ä¸ªç‚¹ï¼Œæ¯ä¸ªç‚¹éƒ½æ˜¯16bitçš„äºŒè¿›åˆ¶æ•°å­—ï¼‰</p>
<p>ï¼ˆ16*32&#x3D;512	ä¸€è¡Œ512åƒç´ ï¼‰</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409085922633.png" alt="image-20250409085922633"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409090618399.png" alt="image-20250409090618399"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409090704474.png" alt="image-20250409090704474"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409090843101.png" alt="image-20250409090843101"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409090851821.png" alt="image-20250409090851821"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409090858509.png" alt="image-20250409090858509"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409091019503.png" alt="image-20250409091019503"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409091145770.png" alt="image-20250409091145770"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409091237626.png" alt="image-20250409091237626"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409091410869.png" alt="image-20250409091410869"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409091513788.png" alt="image-20250409091513788"></p>
<hr>
<h2 id="Proj4"><a href="#Proj4" class="headerlink" title="Proj4"></a>Proj4</h2><h3 id="4-9-Project-4-Overview"><a href="#4-9-Project-4-Overview" class="headerlink" title="4.9 Project 4 Overview"></a>4.9 Project 4 Overview</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409091626333.png" alt="image-20250409091626333"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409091812658.png" alt="image-20250409091812658"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409092150938.png" alt="image-20250409092150938"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409092627420.png" alt="image-20250409092627420"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409093508008.png" alt="image-20250409093508008"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409093530565.png" alt="image-20250409093530565"></p>
<hr>
<h3 id="4-10-Project-4"><a href="#4-10-Project-4" class="headerlink" title="4.10 Project 4"></a>4.10 Project 4</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250413153708189.png" alt="image-20250413153708189"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@R0</span><br><span class="line">D=M</span><br><span class="line">@a</span><br><span class="line">M=D // a=R0</span><br><span class="line"></span><br><span class="line">@R1</span><br><span class="line">D=M</span><br><span class="line">@b</span><br><span class="line">M=D // b=R1</span><br><span class="line"></span><br><span class="line">@0 	 		//	   </span><br><span class="line">D = A 		//</span><br><span class="line">@R2</span><br><span class="line">M=D // R2=0</span><br><span class="line"></span><br><span class="line">(LOOP)  	//</span><br><span class="line">    @a</span><br><span class="line">    D=M</span><br><span class="line">    @STOP</span><br><span class="line">    D;JLE  // while (a&gt;0),continue,or goto &#x27;stop&#x27;</span><br><span class="line"></span><br><span class="line">    @b</span><br><span class="line">    D=M</span><br><span class="line">    @R2</span><br><span class="line">    M=M+D // R2=R2+b</span><br><span class="line">	</span><br><span class="line">    @a</span><br><span class="line">    M=M-1 //a=a-1</span><br><span class="line"></span><br><span class="line">    @LOOP  		//			</span><br><span class="line">    0;JMP  		//</span><br><span class="line"></span><br><span class="line">(STOP) 		//</span><br><span class="line">    @stop</span><br><span class="line">    0;JMP</span><br><span class="line"></span><br><span class="line">// å¤§éƒ¨åˆ†è‡ªå·±å†™å‡ºæ¥äº†ï¼å°éƒ¨åˆ†ä¸åˆ°ä½ã€‚</span><br></pre></td></tr></table></figure>

<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250413164147760.png" alt="image-20250413164147760"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250413163504053.png" alt="image-20250413163504053"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">@KBD // define KBD</span><br><span class="line">D=M </span><br><span class="line"></span><br><span class="line">@i</span><br><span class="line">M=0 // define i</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(BLACK)</span><br><span class="line">	@KBD</span><br><span class="line">	D=M</span><br><span class="line">	@WHITE</span><br><span class="line">	D;JLE</span><br><span class="line">	</span><br><span class="line">	@i 		//</span><br><span class="line">	A=M		//</span><br><span class="line">	M=-1 // RAM[addr] = -1</span><br><span class="line">	</span><br><span class="line">	@i</span><br><span class="line">	M=M+1 // i++</span><br><span class="line">	</span><br><span class="line">	@BLACK</span><br><span class="line">	0;JMP</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(WHITE)</span><br><span class="line">	@i</span><br><span class="line">	A=M		//</span><br><span class="line">	M=0 	//</span><br><span class="line">	@i		//</span><br><span class="line">	M=M+1	//</span><br><span class="line">	</span><br><span class="line">	@WHITE</span><br><span class="line">    0;JMP</span><br><span class="line">    </span><br><span class="line">// å¤§æ¦‚é€»è¾‘å†™å‡ºæ¥äº†ï¼Œå°±æ˜¯ç»†èŠ‚ä¸åˆ°ä½ã€‚</span><br></pre></td></tr></table></figure>

<p>ï¼ˆå‚è€ƒï¼‰</p>
<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409090618399.png" alt="image-20250409090618399" style="zoom: 50%;" />

<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250409090019914.png" alt="image-20250409090019914"></p>
]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>nand2tetris</tag>
      </tags>
  </entry>
  <entry>
    <title>proj1</title>
    <url>/2025/04/19/nand2tetris-proj1-final/</url>
    <content><![CDATA[<h2 id="Proj1"><a href="#Proj1" class="headerlink" title="Proj1"></a>Proj1</h2><h3 id="1-1-Boolean-Logic"><a href="#1-1-Boolean-Logic" class="headerlink" title="1.1 Boolean Logic"></a>1.1 Boolean Logic</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404141214589.png" alt="image-20250404141214589"></p>
<p>â­<strong>Some useful equations</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404141414517.png" alt="image-20250404141414517"></p>
<p><strong>â†’Boolean Algebra  can be åŒ–ç®€</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404141608949.png" alt="image-20250404141608949"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404141759670.png" alt="image-20250404141759670"></p>
<p>ï¼ˆTwo way : â‘ equations,â‘¡write down the truth table)</p>
<h3 id="1-2-Boolean-Function"><a href="#1-2-Boolean-Function" class="headerlink" title="1.2 Boolean Function"></a>1.2 Boolean Function</h3><h4 id="001ï¼š"><a href="#001ï¼š" class="headerlink" title="001ï¼š"></a>001ï¼š</h4><ul>
<li><strong>ç†è®ºä¸Šï¼Œä»»ä½•å¸ƒå°”å‡½æ•°éƒ½å¯ä»¥ç”¨NotAndOrç­‰è¡¨ç¤ºå‡ºæ¥ï¼ˆé€šè¿‡çœŸå€¼è¡¨é€‰å–f&#x3D;1çš„æƒ…å†µï¼‰ï¼ˆåšèŠ¯ç‰‡æœ‰ç”¨ï¼‰</strong></li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404142330760.png" alt="image-20250404142330760"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404142531366.png" alt="image-20250404142531366"></p>
<h4 id="002ï¼š"><a href="#002ï¼š" class="headerlink" title="002ï¼š"></a>002ï¼š</h4><ul>
<li><strong>ï¼ˆorå¯ä»¥é€šè¿‡Andå’ŒNotè¡¨ç¤ºï¼‰</strong></li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404142856026.png" alt="image-20250404142856026"></p>
<h4 id="003ï¼š"><a href="#003ï¼š" class="headerlink" title="003ï¼š"></a>003ï¼š</h4><ul>
<li><strong>è€ŒNandå¯ä»¥è¡¨ç¤ºå‡ºAndNotèŠ¯ç‰‡ï¼ˆæ ¹æœ¬çš„æ ¹æœ¬ï¼‰</strong></li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404142922081.png" alt="image-20250404142922081"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404144646895.png" alt="image-20250404144646895"></p>
<h3 id="1-3-Logic-Gates"><a href="#1-3-Logic-Gates" class="headerlink" title="1.3 Logic Gates"></a>1.3 Logic Gates</h3><p><em>ä¸Šä¸€èŠ‚æ˜¯æŠ½è±¡çš„é€»è¾‘è¿ç®—ï¼Œè¿™ä¸€èŠ‚æ˜¯<strong>å®é™…çš„</strong>èŠ¯ç‰‡&#x2F;é€»è¾‘é—¨</em></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404145506478.png" alt="image-20250404145506478"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404145701379.png" alt="image-20250404145701379"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404145744036.png" alt="image-20250404145744036"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404145815647.png" alt="image-20250404145815647"></p>
<p><strong>ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥æœ‰ä¸åŒçš„å®ç°</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404150147322.png" alt="image-20250404150147322"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404150426261.png" alt="image-20250404150426261"></p>
<h3 id="1-4-Hardware-Description-Language"><a href="#1-4-Hardware-Description-Language" class="headerlink" title="1.4 Hardware Description Language"></a>1.4 Hardware Description Language</h3><p><strong>ä¸€ç§ç¡¬ä»¶æè¿°è¯­è¨€ï¼ˆåšç¡¬ä»¶&#x2F;èŠ¯ç‰‡ç”¨çš„ï¼‰</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404150718865.png" alt="image-20250404150718865"></p>
<p><strong>èŠ¯ç‰‡æ¥å£ å’Œ èŠ¯ç‰‡å®ç°</strong></p>
<p>â­<strong>å®ç°ï¼šç”¨çœŸå€¼è¡¨çœ‹1ï¼Œå†™å‡ºå¸ƒå°”å‡½æ•°åŒ–ç®€ï¼Œç”»å‡ºé€»è¾‘å›¾</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404151805805.png" alt="image-20250404151805805"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404152954069.png" alt="image-20250404152954069"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404153644134.png" alt="image-20250404153644134"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404154013569.png" alt="image-20250404154013569"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404154041022.png" alt="image-20250404154041022"></p>
<h3 id="1-5-Hardware-Simulation"><a href="#1-5-Hardware-Simulation" class="headerlink" title="1.5 Hardware Simulation"></a>1.5 Hardware Simulation</h3><ul>
<li><strong>for æ¨¡æ‹ŸèŠ¯ç‰‡æµ‹è¯•</strong><ul>
<li>wayï¼šåœ¨ç»™å®šçš„ç¡¬ä»¶æ¨¡æ‹Ÿå™¨ä¸­ + ä½¿ç”¨ç¼–å†™çš„æµ‹è¯•æ–‡ä»¶</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404160947915.png" alt="image-20250404160947915"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404163421803.png" alt="image-20250404163421803"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404170858647.png" alt="image-20250404170858647"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404172732071.png" alt="image-20250404172732071"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404172955446.png" alt="image-20250404172955446"></p>
<h3 id="1-6-Mutil-bit-Buses"><a href="#1-6-Mutil-bit-Buses" class="headerlink" title="1.6 Mutil-bit Buses"></a>1.6 Mutil-bit Buses</h3><p><strong>å¤šä½æ€»çº¿ï¼ˆeg16ä½æ€»çº¿ï¼Œä¸€æ¡çº¿ä¸Šæœ‰16ä¸ªä½bitï¼‰</strong></p>
<p>ï¼ˆæœ€å·¦è¾¹ç¬¬ä¸€ä½æ˜¯é«˜ä½ã€‚ æœ€å³è¾¹çš„æœ€ä½ä½ä¸€èˆ¬æ ‡è®°ä¸ºç¬¬ 0 ä½ï¼‰</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404202521312.png" alt="image-20250404202521312"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404202530048.png" alt="image-20250404202530048"></p>
<p><strong>â­ useful</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404202602223.png" alt="image-20250404202602223"></p>
<p>è¯´æ˜ä¸­ç¬¬ä¸€å¥çš„æ„æ€æ˜¯ï¼š<strong>å¯ä»¥è¿›è¡Œå¤šä¸ªoutputï¼Œæ¯”å¦‚å‰8ä½è¾“å‡ºï¼Œåå…«ä½è¾“å‡ºï¼Œå…¨éƒ¨è¾“å‡º</strong></p>
<h3 id="1-7-proj-7-preview"><a href="#1-7-proj-7-preview" class="headerlink" title="1.7 proj 7  preview"></a>1.7 proj 7  preview</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404202849141.png" alt="image-20250404202849141"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404202926080.png" alt="image-20250404202926080"></p>
<p><strong>tipå‡ ä¸ª</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404203025658.png" alt="image-20250404203025658"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404203159712.png" alt="image-20250404203159712"></p>
<p>ï¼ˆæ—¢å¯ä»¥ç”¨ä½œAndé—¨ï¼Œä¹Ÿå¯ä»¥ç”¨ä½œMuxé—¨ï¼‰</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404203425278.png" alt="image-20250404203425278"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404204239746.png" alt="image-20250404204239746"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404204625628.png" alt="image-20250404204625628"></p>
<p><strong>And 16 ï¼š ä¸¤ä¸ªè¾“å…¥ï¼Œéƒ½æ˜¯16ä½çš„ï¼Œä¸€ä¸ªè¾“å‡ºï¼ˆæ¯ä½è¿›è¡ŒAndè¿ç®—ï¼‰ï¼Œä¹Ÿæ˜¯åå…­ä½çš„</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404204739365.png" alt="image-20250404204739365"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404204849942.png" alt="image-20250404204849942"></p>
<p><strong>16-bitï¼Œ4way multiplexor : è¾“å…¥éƒ½æ˜¯16ä½çš„ï¼Œ4ä¸ªè¾“å…¥ï¼Œä¸€ä¸ª16bitè¾“å‡ºï¼ˆmuxé€»è¾‘ï¼Œæ ¹æ®which selè¿›è¡Œé€‰æ‹©ï¼‰ã€‚</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404205018344.png" alt="image-20250404205018344"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404205126035.png" alt="image-20250404205126035"></p>
<p>â­ <strong>notes</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404210112492.png" alt="image-20250404210112492"></p>
<p> <strong>API</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250404211743753.png" alt="image-20250404211743753"></p>
<h3 id="1-8-code"><a href="#1-8-code" class="headerlink" title="1.8 code"></a>1.8 code</h3><h4 id="Nand"><a href="#Nand" class="headerlink" title="Nand"></a>Nand</h4><table>
<thead>
<tr>
<th>x</th>
<th>y</th>
<th>out</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody></table>
<h4 id="Not"><a href="#Not" class="headerlink" title="Not"></a>Not</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Not gate : if (in) out = 0, else out = 1</span><br><span class="line"></span><br><span class="line">CHIP Not &#123;</span><br><span class="line">    IN in;</span><br><span class="line">    OUT out;</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    Nand(a=in, b=in, out=out);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="And"><a href="#And" class="headerlink" title="And"></a>And</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// And gate : if (a and b) out = 1, else out = 0 </span><br><span class="line"></span><br><span class="line">CHIP And &#123;</span><br><span class="line">    IN a, b;</span><br><span class="line">    OUT out;</span><br><span class="line">    </span><br><span class="line">    PARTS:</span><br><span class="line">    Nand(a=a, b=b, out=c);</span><br><span class="line">    Not(in=c,out=out);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Or"><a href="#Or" class="headerlink" title="Or"></a>Or</h4><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/b75694b72e0957867d154be60f9a207.jpg" alt="b75694b72e0957867d154be60f9a207" style="zoom:10%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Or gate : if (a or b) out = 1, else out = 0 </span><br><span class="line">// only a=0,b=0,out=0,else out=1</span><br><span class="line"></span><br><span class="line">CHIP Or &#123;</span><br><span class="line">    IN a, b;</span><br><span class="line">    OUT out;</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    Nand(a=a, b=a, out=a2);</span><br><span class="line">    Nand(a=b, b=b, out=b2);</span><br><span class="line">    Nand(a=a2, b=b2,out=out);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Xor"><a href="#Xor" class="headerlink" title="Xor"></a>Xor</h4><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/14c146587d40e107bec5f52c50fc019.jpg" alt="14c146587d40e107bec5f52c50fc019" style="zoom:12%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Exclusive-or gate: if ((a and Not(b)) or (Not(a) and b)) out = 1, else out = 0</span><br><span class="line"></span><br><span class="line">CHIP Xor &#123;</span><br><span class="line">    IN a, b;</span><br><span class="line">    OUT out;</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    ////çœŸå€¼è¡¨æ¨å‡ºæ¥çš„(å®šä¹‰ä¹Ÿå†™æ˜äº†å“ˆå“ˆå“ˆ)</span><br><span class="line">    Not(in=a, out=nota);</span><br><span class="line">    Not(in=b, out=notb);</span><br><span class="line">    And(a=a, b=notb, out=aAndnotb);</span><br><span class="line">    And(a=b, b=nota, out=bAndnota);</span><br><span class="line">    Or(a=aAndnotb, b=bAndnota, out=out);</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<h4 id="Muxï¼ˆäºŒ1bitå¹¶ä¸€ï¼‰"><a href="#Muxï¼ˆäºŒ1bitå¹¶ä¸€ï¼‰" class="headerlink" title="Muxï¼ˆäºŒ1bitå¹¶ä¸€ï¼‰"></a>Muxï¼ˆäºŒ1bitå¹¶ä¸€ï¼‰</h4><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/bb2b12af45a30fae8396224ade119a7.jpg" alt="bb2b12af45a30fae8396224ade119a7" style="zoom:11%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Multiplexor: if (sel = 0) out = a, else out = b  (good!)</span><br><span class="line"></span><br><span class="line">CHIP Mux &#123;</span><br><span class="line">    IN a, b, sel;</span><br><span class="line">    OUT out;</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    Not(in=sel, out=notsel); </span><br><span class="line">    And(a=a , b=notsel, out=outa);//if sel==0,è¿”å›a (depend on a)</span><br><span class="line">    And(a=sel, b=b, out=outb ); //if sel==1ï¼Œè¿”å›b (depend on b)</span><br><span class="line">    Or(a=outa, b=outb, out=out );   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Dmuxï¼ˆä¸€è§£äºŒï¼‰"><a href="#Dmuxï¼ˆä¸€è§£äºŒï¼‰" class="headerlink" title="Dmuxï¼ˆä¸€è§£äºŒï¼‰"></a>Dmuxï¼ˆä¸€è§£äºŒï¼‰</h4><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/1c6ff7a10f0431156d30ca2e457635b.jpg" alt="1c6ff7a10f0431156d30ca2e457635b" style="zoom:12%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Demultiplexor: [a, b] = 		[in, 0] if sel = 0 		[0, in] if sel = 1</span><br><span class="line"></span><br><span class="line">CHIP DMux &#123;</span><br><span class="line">    IN in, sel;</span><br><span class="line">    OUT a, b;</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    Not(in=sel , out=notsel );</span><br><span class="line">    And(a=in, b=notsel, out=a );</span><br><span class="line">    And(a=in, b=sel , out=b ); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Not16"><a href="#Not16" class="headerlink" title="Not16"></a>Not16</h4><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/2888a1bdd8c56821dc4950f143b6396.jpg" alt="2888a1bdd8c56821dc4950f143b6396" style="zoom:15%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 16-bit Not gate:		for i = 0, ..., 15: 	out[i] = Not(a[i])</span><br><span class="line"> </span><br><span class="line">// æŠŠä¸€ä¸ª16ä½çš„æ•°ï¼Œæ¯ä¸€ä½éƒ½å–å</span><br><span class="line">CHIP Not16 &#123;</span><br><span class="line">    IN in[16];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    Not(in=in[0] , out=out[0] );</span><br><span class="line">    Not(in=in[1] , out=out[1] );</span><br><span class="line">    Not(in=in[2] , out=out[2] );</span><br><span class="line">    Not(in=in[3] , out=out[3] );</span><br><span class="line">    Not(in=in[4] , out=out[4] );</span><br><span class="line">    Not(in=in[5] , out=out[5] );</span><br><span class="line">    Not(in=in[6] , out=out[6] );</span><br><span class="line">    Not(in=in[7] , out=out[7] );</span><br><span class="line">    Not(in=in[8] , out=out[8] );</span><br><span class="line">    Not(in=in[9] , out=out[9] );</span><br><span class="line">    Not(in=in[10] , out=out[10] );</span><br><span class="line">    Not(in=in[11] , out=out[11] );</span><br><span class="line">    Not(in=in[12] , out=out[12] );</span><br><span class="line">    Not(in=in[13] , out=out[13] );</span><br><span class="line">    Not(in=in[14] , out=out[14] );</span><br><span class="line">    Not(in=in[15] , out=out[15] );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="And16"><a href="#And16" class="headerlink" title="And16"></a>And16</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 16-bit And gate: 	for i = 0, ..., 15: 	out[i] = a[i] And b[i] </span><br><span class="line"></span><br><span class="line">// æŠŠä¸¤ä¸ª16ä½çš„æ•°ï¼Œæ¯ä¸€ä½éƒ½æ±‚And</span><br><span class="line">CHIP And16 &#123;</span><br><span class="line">    IN a[16], b[16];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    //// Replace this comment with your code.</span><br><span class="line">    And(a=a[0] , b=b[0] , out=out[0] );</span><br><span class="line">    And(a=a[1] , b=b[1] , out=out[1] );</span><br><span class="line">    And(a=a[2] , b=b[2] , out=out[2] );</span><br><span class="line">    And(a=a[3] , b=b[3] , out=out[3] );</span><br><span class="line">    And(a=a[4] , b=b[4] , out=out[4] );</span><br><span class="line">    And(a=a[5] , b=b[5] , out=out[5] );</span><br><span class="line">    And(a=a[6] , b=b[6] , out=out[6] );</span><br><span class="line">    And(a=a[7] , b=b[7] , out=out[7] );</span><br><span class="line">    And(a=a[8] , b=b[8] , out=out[8] );</span><br><span class="line">    And(a=a[9] , b=b[9] , out=out[9] );</span><br><span class="line">    And(a=a[10] , b=b[10] , out=out[10] );</span><br><span class="line">    And(a=a[11] , b=b[11] , out=out[11] );</span><br><span class="line">    And(a=a[12] , b=b[12] , out=out[12] );</span><br><span class="line">    And(a=a[13] , b=b[13] , out=out[13] );</span><br><span class="line">    And(a=a[14] , b=b[14] , out=out[14] );</span><br><span class="line">    And(a=a[15] , b=b[15] , out=out[15] );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Or16"><a href="#Or16" class="headerlink" title="Or16"></a>Or16</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 16-bit Or gate: 		for i = 0, ..., 15: 	out[i] = a[i] Or b[i] </span><br><span class="line"></span><br><span class="line">CHIP Or16 &#123;</span><br><span class="line">    IN a[16], b[16];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    Or(a=a[0] , b=b[0] , out=out[0] );</span><br><span class="line">    Or(a=a[1] , b=b[1] , out=out[1] );</span><br><span class="line">    Or(a=a[2] , b=b[2] , out=out[2] );</span><br><span class="line">    Or(a=a[3] , b=b[3] , out=out[3] );</span><br><span class="line">    Or(a=a[4] , b=b[4] , out=out[4] );</span><br><span class="line">    Or(a=a[5] , b=b[5] , out=out[5] );</span><br><span class="line">    Or(a=a[6] , b=b[6] , out=out[6] );</span><br><span class="line">    Or(a=a[7] , b=b[7] , out=out[7] );</span><br><span class="line">    Or(a=a[8] , b=b[8] , out=out[8] );</span><br><span class="line">    Or(a=a[9] , b=b[9] , out=out[9] );</span><br><span class="line">    Or(a=a[10] , b=b[10] , out=out[10] );</span><br><span class="line">    Or(a=a[11] , b=b[11] , out=out[11] );</span><br><span class="line">    Or(a=a[12] , b=b[12] , out=out[12] );</span><br><span class="line">    Or(a=a[13] , b=b[13] , out=out[13] );</span><br><span class="line">    Or(a=a[14] , b=b[14] , out=out[14] );</span><br><span class="line">    Or(a=a[15] , b=b[15] , out=out[15] );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Mux16ï¼ˆäºŒ16bitå¹¶ä¸€ï¼‰"><a href="#Mux16ï¼ˆäºŒ16bitå¹¶ä¸€ï¼‰" class="headerlink" title="Mux16ï¼ˆäºŒ16bitå¹¶ä¸€ï¼‰"></a>Mux16ï¼ˆäºŒ16bitå¹¶ä¸€ï¼‰</h4><ul>
<li>å®ç°æ–¹å¼ï¼š16ä¸ªMuxå¹¶æ’ä½œç”¨ä¸æ¯ä¸€ä¸ªbit</li>
</ul>
<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/e37fe587999c0d2944e788df5cbfd59.jpg" alt="e37fe587999c0d2944e788df5cbfd59" style="zoom:13%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 16-bit multiplexor: 		for i = 0, ..., 15:	   if (sel = 0) out[i] = a[i], else out[i] = b[i]</span><br><span class="line"></span><br><span class="line">CHIP Mux16 &#123;</span><br><span class="line">    IN a[16], b[16], sel;</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    Not(in=sel , out=notsel );</span><br><span class="line"></span><br><span class="line">    And(a=a[0] , b=notsel , out=out01 );</span><br><span class="line">    And(a=sel , b=b[0] , out=out02 );</span><br><span class="line">    Or(a=out01 , b=out02 , out=out[0] );</span><br><span class="line"></span><br><span class="line">    And(a=a[1] , b=notsel , out=out11 );</span><br><span class="line">    And(a=sel , b=b[1] , out=out12 );</span><br><span class="line">    Or(a=out11 , b=out12 , out=out[1] );</span><br><span class="line"></span><br><span class="line">    And(a=a[2] , b=notsel , out=out21 );</span><br><span class="line">    And(a=sel , b=b[2] , out=out22 );</span><br><span class="line">    Or(a=out21 , b=out22 , out=out[2] );</span><br><span class="line"></span><br><span class="line">    And(a=a[3] , b=notsel , out=out31 );</span><br><span class="line">    And(a=sel , b=b[3] , out=out32 );</span><br><span class="line">    Or(a=out31 , b=out32 , out=out[3] );</span><br><span class="line"></span><br><span class="line">    And(a=a[4] , b=notsel , out=out41 );</span><br><span class="line">    And(a=sel , b=b[4] , out=out42 );</span><br><span class="line">    Or(a=out41 , b=out42 , out=out[4] );</span><br><span class="line"></span><br><span class="line">    And(a=a[5] , b=notsel , out=out51 );</span><br><span class="line">    And(a=sel , b=b[5] , out=out52 );</span><br><span class="line">    Or(a=out51 , b=out52 , out=out[5] );</span><br><span class="line"></span><br><span class="line">    And(a=a[6] , b=notsel , out=out61 );</span><br><span class="line">    And(a=sel , b=b[6] , out=out62 );</span><br><span class="line">    Or(a=out61 , b=out62 , out=out[6] );</span><br><span class="line"></span><br><span class="line">    And(a=a[7] , b=notsel , out=out71 );</span><br><span class="line">    And(a=sel , b=b[7] , out=out72 );</span><br><span class="line">    Or(a=out71 , b=out72 , out=out[7] );</span><br><span class="line"></span><br><span class="line">    And(a=a[8] , b=notsel , out=out81 );</span><br><span class="line">    And(a=sel , b=b[8] , out=out82 );</span><br><span class="line">    Or(a=out81 , b=out82 , out=out[8] );</span><br><span class="line"></span><br><span class="line">    And(a=a[9] , b=notsel , out=out91 );</span><br><span class="line">    And(a=sel , b=b[9] , out=out92 );</span><br><span class="line">    Or(a=out91 , b=out92 , out=out[9] );</span><br><span class="line"></span><br><span class="line">    And(a=a[10] , b=notsel , out=out101 );</span><br><span class="line">    And(a=sel , b=b[10] , out=out102 );</span><br><span class="line">    Or(a=out101 , b=out102 , out=out[10] );</span><br><span class="line"></span><br><span class="line">    And(a=a[11] , b=notsel , out=out111 );</span><br><span class="line">    And(a=sel , b=b[11] , out=out112 );</span><br><span class="line">    Or(a=out111 , b=out112 , out=out[11] );</span><br><span class="line"></span><br><span class="line">    And(a=a[12] , b=notsel , out=out121 );</span><br><span class="line">    And(a=sel , b=b[12] , out=out122 );</span><br><span class="line">    Or(a=out121 , b=out122 , out=out[12] );</span><br><span class="line"></span><br><span class="line">    And(a=a[13] , b=notsel , out=out131 );</span><br><span class="line">    And(a=sel , b=b[13] , out=out132 );</span><br><span class="line">    Or(a=out131 , b=out132 , out=out[13] );</span><br><span class="line"></span><br><span class="line">    And(a=a[14] , b=notsel , out=out141 );</span><br><span class="line">    And(a=sel , b=b[14] , out=out142 );</span><br><span class="line">    Or(a=out141 , b=out142 , out=out[14] );</span><br><span class="line"></span><br><span class="line">    And(a=a[15] , b=notsel , out=out151 );</span><br><span class="line">    And(a=sel , b=b[15] , out=out152 );</span><br><span class="line">    Or(a=out151 , b=out152 , out=out[15] );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Or8Way"><a href="#Or8Way" class="headerlink" title="Or8Way"></a>Or8Way</h4><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/1113aa3384d980cf7a3cf7c22f999ea.jpg" alt="1113aa3384d980cf7a3cf7c22f999ea" style="zoom:11%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 8-way Or gateï¼  		out = in[0] Or in[1] Or ... Or in[7]</span><br><span class="line">// è¾“å…¥ ä¸€ä¸ª 8-bitæ•°ï¼è€Œä¸æ˜¯ ä¸¤ä¸ª ï¼è¾“å‡ºä¸€ä¸ª1-bitæ•°ã€‚</span><br><span class="line"></span><br><span class="line">CHIP Or8Way &#123;</span><br><span class="line">    IN in[8];</span><br><span class="line">    OUT out;</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    // è¾“å…¥ä¸€ä¸ªå…«ä½ï¼ˆbitï¼‰æ•°ï¼Œä¾æ¬¡æ¯ä¸¤ä½å–Orï¼Œæœ€åè¾“å‡ºç»“æœï¼ˆå…¨0æ‰ä¼šè¾“å‡º0ï¼Œæœ‰ä¸€ä¸ª1å°±è¾“å‡º1ï¼‰</span><br><span class="line">    Or(a=in[0] , b=in[1] , out=s1 );</span><br><span class="line">    Or(a=in[2] , b=in[3] , out=s2 );</span><br><span class="line">    Or(a=in[4] , b=in[5] , out=s3 );</span><br><span class="line">    Or(a=in[6] , b=in[7] , out=s4 );</span><br><span class="line">    Or(a=s1 , b=s2 , out=w1 );</span><br><span class="line">    Or(a=s3 , b=s4 , out=w2 );</span><br><span class="line">    Or(a=w1 , b=w2 , out=out );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Mux4Way16ï¼ˆå››16bitå¹¶ä¸€ï¼‰"><a href="#Mux4Way16ï¼ˆå››16bitå¹¶ä¸€ï¼‰" class="headerlink" title="Mux4Way16ï¼ˆå››16bitå¹¶ä¸€ï¼‰"></a>Mux4Way16ï¼ˆå››16bitå¹¶ä¸€ï¼‰</h4><ul>
<li><p>è§£æåå­—å«ä¹‰ï¼š</p>
<ul>
<li><p><strong>Mux16</strong> æ˜¯ <strong>16-bit</strong> çš„æ„æ€ã€‚</p>
</li>
<li><p><strong>Mux4Way16</strong> æ˜¯ <strong>16-bitï¼Œ4-way</strong> çš„æ„æ€</p>
</li>
<li><p>é‚£ä¸ºå•¥ Or8Way æ˜¯ 8-bitï¼Œ1-wayï¼Ÿçš„æ„æ€ï¼Ÿ</p>
</li>
</ul>
</li>
</ul>
<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/412c8358a3261cc20cca4fb7d9437aa.jpg" alt="412c8358a3261cc20cca4fb7d9437aa" style="zoom:11%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 4-way 16-bit multiplexor:</span><br><span class="line"> * out = a if sel = 00</span><br><span class="line"> *       b if sel = 01</span><br><span class="line"> *       c if sel = 10</span><br><span class="line"> *       d if sel = 11</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line">// å››æ¡è·¯/è¾“å…¥ï¼Œæ¯ä¸ªéƒ½æ˜¯16bitï¼Œæ ¹æ®selçš„ä¸åŒï¼ˆ4ä¸ªselï¼Œä¸¤ä½çš„äºŒè¿›åˆ¶æ•°å­—ï¼‰ï¼Œè¾“å‡ºå…¶ä¸­ ä¸€ ä¸ªæ•°ã€‚</span><br><span class="line">CHIP Mux4Way16 &#123; 							// çœ‹æˆ Mux 16 ï¼ŒæŠŠ 4Way æ’åœ¨åå­—ä¸­é—´</span><br><span class="line">    IN a[16], b[16], c[16], d[16], sel[2];</span><br><span class="line">    OUT out[16];</span><br><span class="line">    </span><br><span class="line">    PARTS:</span><br><span class="line">    // we just need one output !</span><br><span class="line">    Mux16(a=a , b=b , sel=sel[0] , out=w1 );   // [0]æ˜¯æœ€å³</span><br><span class="line">    Mux16(a=c , b=d , sel=sel[0] , out=w2 );</span><br><span class="line"></span><br><span class="line">    Mux16(a=w1 , b=w2 , sel=sel[1] , out=out );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Mux8Way16ï¼ˆå…«16bitå¹¶ä¸€ï¼‰"><a href="#Mux8Way16ï¼ˆå…«16bitå¹¶ä¸€ï¼‰" class="headerlink" title="Mux8Way16ï¼ˆå…«16bitå¹¶ä¸€ï¼‰"></a>Mux8Way16ï¼ˆå…«16bitå¹¶ä¸€ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 8-way 16-bit multiplexor:</span><br><span class="line"> * out = a if sel = 000</span><br><span class="line"> *       b if sel = 001</span><br><span class="line"> *       c if sel = 010</span><br><span class="line"> *       d if sel = 011</span><br><span class="line"> *       e if sel = 100</span><br><span class="line"> *       f if sel = 101</span><br><span class="line"> *       g if sel = 110</span><br><span class="line"> *       h if sel = 111</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">// 8æ¡è·¯/è¾“å…¥ï¼Œæ¯ä¸ªéƒ½æ˜¯16bitï¼Œæ ¹æ®selçš„ä¸åŒï¼ˆ8ä¸ªselï¼Œä¸‰ä½çš„äºŒè¿›åˆ¶æ•°å­—ï¼‰ï¼Œè¾“å‡ºå…¶ä¸­ ä¸€ ä¸ªæ•°ã€‚</span><br><span class="line">CHIP Mux8Way16 &#123;</span><br><span class="line">    IN a[16], b[16], c[16], d[16],</span><br><span class="line">       e[16], f[16], g[16], h[16],</span><br><span class="line">       sel[3];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    // ç”¨ä¸¤ä¸ªMux4Way16å†åŠ ä¸Šä¸€ä¸ªMux16å°±è¡Œäº†ã€‚</span><br><span class="line">    Mux4Way16(a=a , b=b , c=c , d=d , sel[0]=sel[0] ,sel[1]=sel[1],out=w1 );</span><br><span class="line">    Mux4Way16(a=e , b=f , c=g , d=h , sel[0]=sel[0] ,sel[1]=sel[1],out=w2 );</span><br><span class="line">    Mux16(a=w1 , b=w2 , sel=sel[2] , out=out );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="DMux4Wayï¼ˆä¸€è§£å››ï¼‰"><a href="#DMux4Wayï¼ˆä¸€è§£å››ï¼‰" class="headerlink" title="DMux4Wayï¼ˆä¸€è§£å››ï¼‰"></a>DMux4Wayï¼ˆä¸€è§£å››ï¼‰</h4><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/042760ad0a8f3a0d172d509e6a2462e.jpg" alt="042760ad0a8f3a0d172d509e6a2462e" style="zoom:15%;" />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 4-way demultiplexor:</span><br><span class="line"> * [a, b, c, d] = [in, 0, 0, 0] if sel = 00</span><br><span class="line"> *                [0, in, 0, 0] if sel = 01</span><br><span class="line"> *                [0, 0, in, 0] if sel = 10</span><br><span class="line"> *                [0, 0, 0, in] if sel = 11</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">// ä¸€ä¸ªè¾“å…¥ï¼ˆå‡ bitåº”è¯¥æ²¡è¦æ±‚ï¼‰ï¼Œæ ¹æ®selçš„ä¸åŒé€‰æ‹©èµ‹äºˆabcdå“ªä¸ªçš„å€¼ï¼ˆ4ä¸ªå€¼4Wayï¼Œéœ€è¦4ä¸ªselï¼‰ï¼Œå…¶ä»–å€¼è¾“å‡º0ï¼ˆ4ä¸ªselï¼Œä¸¤ä½äºŒè¿›åˆ¶æ•°å­—ï¼‰</span><br><span class="line">CHIP DMux4Way &#123;</span><br><span class="line">    IN in, sel[2];</span><br><span class="line">    OUT a, b, c, d;</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    DMux(in=in, sel=sel[1], a=top, b=bottom);</span><br><span class="line">    </span><br><span class="line">    DMux(in=top, sel=sel[0], a=a, b=b);</span><br><span class="line">    DMux(in=bottom, sel=sel[0], a=c, b=d);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="DMux8Wayï¼ˆä¸€è§£å…«ï¼‰"><a href="#DMux8Wayï¼ˆä¸€è§£å…«ï¼‰" class="headerlink" title="DMux8Wayï¼ˆä¸€è§£å…«ï¼‰"></a>DMux8Wayï¼ˆä¸€è§£å…«ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 8-way demultiplexor:</span><br><span class="line"> * [a, b, c, d, e, f, g, h] = [in, 0,  0,  0,  0,  0,  0,  0] if sel = 000</span><br><span class="line"> *                            [0, in,  0,  0,  0,  0,  0,  0] if sel = 001</span><br><span class="line"> *                            [0,  0, in,  0,  0,  0,  0,  0] if sel = 010</span><br><span class="line"> *                            [0,  0,  0, in,  0,  0,  0,  0] if sel = 011</span><br><span class="line"> *                            [0,  0,  0,  0, in,  0,  0,  0] if sel = 100</span><br><span class="line"> *                            [0,  0,  0,  0,  0, in,  0,  0] if sel = 101</span><br><span class="line"> *                            [0,  0,  0,  0,  0,  0, in,  0] if sel = 110</span><br><span class="line"> *                            [0,  0,  0,  0,  0,  0,  0, in] if sel = 111</span><br><span class="line"> */</span><br><span class="line"> </span><br><span class="line">// æ ¹æ®ä¸‰ä½æ•°çš„selæŠŠinåˆ†æˆ8éƒ¨åˆ†</span><br><span class="line">CHIP DMux8Way &#123;</span><br><span class="line">    IN in, sel[3]; </span><br><span class="line">    // selæœ‰8ç§å¯èƒ½ï¼Œä½†æ‰“å¼€æ—¶ï¼Œåªæœ‰ä¸€ç§çŠ¶æ€ï¼Œæ‰€ä»¥åªæœ‰ä¸€ä¸ªæœ‰å€¼ï¼Œå…¶ä»–éƒ½æ˜¯0å€¼ã€‚</span><br><span class="line">    OUT a, b, c, d, e, f, g, h;</span><br><span class="line">    </span><br><span class="line">    PARTS:</span><br><span class="line">    // æ ¹æ®selç¬¬ä¸€ä½ï¼ŒæŠŠinæ•°æ®åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œtopå’Œbottom</span><br><span class="line">    DMux(in=in, sel=sel[2], a=top, b=bottom);</span><br><span class="line"></span><br><span class="line">    // æ ¹æ®selç¬¬äºŒä½ï¼Œåˆ†åˆ«æŠŠtopå’Œbottomå†åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œæ€»è®¡å››éƒ¨åˆ†</span><br><span class="line">    DMux(in=top, sel=sel[1], a=w1, b=w2);</span><br><span class="line">    DMux(in=bottom, sel=sel[1], a=w3, b=w4);</span><br><span class="line"></span><br><span class="line">    // æ ¹æ®selç¬¬ä¸‰ä½ï¼ŒæŠŠinæ€»å…±åˆ†æˆ8éƒ¨åˆ†    </span><br><span class="line">    DMux(in=w1, sel=sel[0], a=a, b=b);</span><br><span class="line">    DMux(in=w2, sel=sel[0], a=c, b=d);</span><br><span class="line"></span><br><span class="line">    DMux(in=w3, sel=sel[0], a=e, b=f);</span><br><span class="line">    DMux(in=w4, sel=sel[0], a=g, b=h);   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>nand2tetris</tag>
      </tags>
  </entry>
  <entry>
    <title>proj5</title>
    <url>/2025/05/03/nand2tetris-proj5-final-2/</url>
    <content><![CDATA[<h1 id="5-1"><a href="#5-1" class="headerlink" title="5.1"></a>5.1</h1><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414103254600.png" alt="image-20250414103254600"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414103339640.png" alt="image-20250414103339640"></p>
<h2 id="Elements"><a href="#Elements" class="headerlink" title="Elements"></a>Elements</h2><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414103410299.png" alt="image-20250414103410299"></p>
<h2 id="Infomation-Flows"><a href="#Infomation-Flows" class="headerlink" title="Infomation Flows"></a>Infomation Flows</h2><ul>
<li><p><strong>Element + ä¸‰æ¡æ€»çº¿</strong></p>
</li>
<li><p>ï¼ˆå¤§æ¦‚çœ‹çœ‹ï¼Œå…·ä½“çš„çœ‹åé¢ï¼‰</p>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414103512260.png" alt="image-20250414103512260"></p>
<h3 id="The-Arithmetic-Logic-Unit"><a href="#The-Arithmetic-Logic-Unit" class="headerlink" title="The Arithmetic Logic Unit"></a>The Arithmetic Logic Unit</h3><ul>
<li>dataæ¥å…¥ALUï¼Œå¾—åˆ°è¾“å‡º</li>
<li>è¾“å‡ºå€¼è¿”å›æ•°æ®æ€»çº¿</li>
<li>æˆ‘è§‰å¾—æ˜¯è¾“å‡ºoutæˆ–è€…å›å»å†…å­˜ï¼Ÿ</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414103725776.png" alt="image-20250414103725776"></p>
<ul>
<li>controlæ€»çº¿ å‘Šè¯‰ALUè¿›è¡Œä½•ç§æ“ä½œ</li>
<li>ALU è¿”å›å‘Šè¯‰ Control ç³»ç»Ÿå…¶ä»–éƒ¨åˆ†è¿›è¡Œä»€ä¹ˆæ“ä½œ</li>
<li>å½“ CPU ä»ç¨‹åºå†…å­˜ä¸­è·å–åˆ°æŒ‡ä»¤åï¼Œä¼šå¯¹æŒ‡ä»¤è¿›è¡Œè§£æã€‚å¯¹äºæŒ‡ä»¤ä¸­çš„æ§åˆ¶ä¿¡æ¯ï¼Œé€šè¿‡æ§åˆ¶æ€»çº¿ä¼ å‡ºå»ï¼ˆè®©ç®—æœ¯é€»è¾‘å•å…ƒã€å¯„å­˜å™¨ã€å†…å­˜ç­‰éƒ¨ä»¶æŒ‰è¦æ±‚æ“ä½œï¼Œæ¯”å¦‚è®©ç®—æœ¯é€»è¾‘å•å…ƒè¿›è¡ŒåŠ æ³•è¿ç®—ç­‰ï¼‰<ul>
<li>ä¾‹å¦‚å¦‚æœALUå‘ç°æŸä¸ªæ•°å­—å¤§äºé›¶ï¼Œä»–å°†å‘Šè¯‰Controlä¸‹ä¸€ä¸ªæŒ‡ä»¤çš„è·³è½¬ä»¥åŠä¸‹ä¸€ä¸ªæŒ‡ä»¤æ˜¯ä»€ä¹ˆ</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414103745983.png" alt="image-20250414103745983"></p>
<h3 id="Address-Register"><a href="#Address-Register" class="headerlink" title="Address Register"></a>Address Register</h3><ul>
<li>å¯„å­˜å™¨å‚¨å­˜ä¸­é—´ç»“æœã€‚æ‰€ä»¥æ•°æ®æ€»çº¿æ¥åˆ°Registeré‡Œ</li>
<li>æœ‰çš„å¯„å­˜å™¨è¿˜ç”¨ä½œåœ°å€å‚¨å­˜å™¨ï¼Œæ‰€ä»¥registerè¦æ¥å…¥åœ°å€æ€»çº¿<ul>
<li>ï¼ˆå°†æ•°å­—ï¼Œä¹Ÿå°±æ˜¯åœ°å€æ”¾å…¥å¯„å­˜å™¨ä¸­ï¼Œç„¶åå®ƒå°±æŒ‡å®šäº†æˆ‘ä»¬æƒ³è¦è®¿é—®çš„ä½ç½®ã€‚ï¼‰</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414104302989.png" alt="image-20250414104302989"></p>
<h2 id="Memory"><a href="#Memory" class="headerlink" title="Memory"></a>Memory</h2><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414104324563.png" alt="image-20250414104324563"></p>
<h3 id="Data-Memory"><a href="#Data-Memory" class="headerlink" title="Data Memory"></a>Data Memory</h3><ul>
<li>Data Memoryéœ€è¦è¿æ¥æ•°æ®æ€»çº¿ï¼šå› ä¸ºè¾“å…¥å’Œè¾“å‡ºï¼ˆè¿™æ²¡é—®é¢˜ï¼‰</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414104458851.png" alt="image-20250414104458851"></p>
<h3 id="Program-Memory"><a href="#Program-Memory" class="headerlink" title="Program Memory"></a>Program Memory</h3><ul>
<li>ç¨‹åºå†…å­˜</li>
<li>éœ€è¦ä»PMå–å‡ºCPUæ‰€éœ€è¦çš„ç¨‹åºæŒ‡ä»¤ï¼Œæ‰€ä»¥è¿æ¥åœ°å€æ€»çº¿<ul>
<li>ä¾‹å¦‚ï¼Œ<strong>ï¼ˆç¨‹åºæŒ‡ä»¤æ˜¯ CPU æ‰¾å†…å­˜è¦çš„ï¼‰</strong>ï¼ŒCPU è¦ä»ç¨‹åºå†…å­˜é‡Œæ‹¿æŒ‡ä»¤æ—¶ï¼Œå¾—å…ˆæŠŠ<strong>ä¸‹ä¸€æ¡</strong>æŒ‡ä»¤çš„åœ°å€å‘å‡ºå»ï¼ˆé€šè¿‡åœ°å€æ€»çº¿ï¼‰ï¼Œç¨‹åºå†…å­˜æ”¶åˆ°åœ°å€åï¼ŒæŒ‰åœ°å€æ‰¾åˆ°æŒ‡ä»¤å†ä¼ ç»™ CPUï¼ˆé€šè¿‡æ•°æ®æ€»çº¿ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414104556795.png" alt="image-20250414104556795"></p>
<h2 id="Next"><a href="#Next" class="headerlink" title="Next"></a>Next</h2><p><strong>æˆ‘ä»¬åœ¨ä¸‹ä¸€å•å…ƒè¦åšçš„ï¼Œæ˜¯æ›´ä»”ç»†åœ°ç ”ç©¶æœ€å†…å±‚çš„å¾ªç¯</strong>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ç¡¬ä»¶åº”è¯¥æ‰§è¡Œçš„åŸºæœ¬æ“ä½œï¼šå³ä»å†…å­˜ï¼Œç¨‹åºå†…å­˜ä¸­å–å‡ºä¸€æ¡æŒ‡ä»¤ï¼Œå¹¶æ°å½“åœ°ä½¿ç”¨ç³»ç»Ÿçš„å…¶ä»–éƒ¨åˆ†æ¥æ‰§è¡Œå®ƒã€‚è¿™è¢«ç§°ä¸ºå–æŒ‡ - æ‰§è¡Œå‘¨æœŸï¼Œè¿™å°†æ˜¯ä¸‹ä¸€å•å…ƒçš„å†…å®¹ã€‚<strong>ï¼ˆä¸€æ¡ä¸€æ¡æ‰§è¡Œç¨‹åºæŒ‡ä»¤ï¼‰</strong></p>
<hr>
<h1 id="5-2-The-Fetch-Execute-Cycle"><a href="#5-2-The-Fetch-Execute-Cycle" class="headerlink" title="5.2 The Fetch-Execute Cycle"></a>5.2 The Fetch-Execute Cycle</h1><h2 id="The-basic-CPU-loop"><a href="#The-basic-CPU-loop" class="headerlink" title="The basic CPU loop"></a>The basic CPU loop</h2><p><strong>ä¸€æ¡æ¡ è·å–-æ‰§è¡Œ ç¨‹åºæŒ‡ä»¤</strong></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414105855817.png" alt="image-20250414105855817"></p>
<h3 id="è·å–æŒ‡ä»¤"><a href="#è·å–æŒ‡ä»¤" class="headerlink" title="è·å–æŒ‡ä»¤"></a>è·å–æŒ‡ä»¤</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414121331533.png" alt="image-20250414121331533"></p>
<p>butä¸‹ä¸€æ¡æŒ‡ä»¤åœ¨å“ªé‡Œæ‰¾å‘¢ï¼Ÿ</p>
<ul>
<li><p>åœ¨å†…å­˜é‡Œ</p>
</li>
<li><p>åœ¨ç¨‹åºå†…å­˜é‡Œ</p>
</li>
<li><p>åœ¨ç¨‹åºè®¡æ•°å™¨ï¼ˆprogram counterï¼‰é‡Œé¢ï¼ˆæŸä¸ªå¯„å­˜å™¨ï¼‰</p>
<ul>
<li>å®ƒä¼šæ ¹æ®æŒ‡ä»¤çš„æ‰§è¡Œæƒ…å†µè‡ªåŠ¨é€’å¢æˆ–æ ¹æ®è·³è½¬æŒ‡ä»¤ç­‰è¿›è¡Œä¿®æ”¹ï¼Œä»¥æŒ‡å‘ä¸‹ä¸€æ¡è¦å–çš„æŒ‡ä»¤<strong>åœ°å€</strong>ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414121446414.png" alt="image-20250414121446414"></p>
<h3 id="æ‰§è¡ŒæŒ‡ä»¤"><a href="#æ‰§è¡ŒæŒ‡ä»¤" class="headerlink" title="æ‰§è¡ŒæŒ‡ä»¤"></a>æ‰§è¡ŒæŒ‡ä»¤</h3><ul>
<li><p>æœ‰äº†Instructionï¼Œæˆ‘ä»¬éœ€è¦æ‰§è¡Œå®ƒã€‚</p>
</li>
<li><p>æŒ‡ä»¤ä»£ç åŒ…å«äº†å¾ˆå¤šä¿¡æ¯ï¼ˆä¸åŒä½æœ‰ä¸åŒä¿¡æ¯ï¼‰</p>
</li>
<li><p>æŠŠå–å‡ºçš„æŒ‡ä»¤é€šè¿‡ æ§åˆ¶æ€»çº¿ è¾“å‡ºåˆ°CPU</p>
<ul>
<li>æ§åˆ¶æ€»çº¿ å‘Šè¯‰ALUè®¡ç®—ä»€ä¹ˆæŒ‡ä»¤ï¼Œå‘Šè¯‰æ•°æ®æ¥è‡ªå“ªä¸ªå¯„å­˜å™¨è¿˜æ˜¯å“ªä¸ªæ•°æ®å­˜å‚¨å™¨ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414121636482.png" alt="image-20250414121636482"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414121725006.png" alt="image-20250414121725006"></p>
<h3 id="è·å–-æ‰§è¡Œ-å†²çªClash"><a href="#è·å–-æ‰§è¡Œ-å†²çªClash" class="headerlink" title="è·å–-æ‰§è¡Œ å†²çªClash"></a>è·å–-æ‰§è¡Œ å†²çªClash</h3><ul>
<li>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å› ä¸ºå†…å­˜åœ°å€è¾“å…¥åœ¨åŒä¸€æ—¶åˆ»çš„å”¯ä¸€æ€§ï¼Œè€Œå–æŒ‡ä»¤å’Œæ‰§è¡ŒæŒ‡ä»¤æ—¶éƒ½éœ€è¦ä½¿ç”¨å†…å­˜åœ°å€æ¥è·å–ä¸åŒçš„å†…å®¹ï¼ˆæŒ‡ä»¤å’Œæ•°æ®ï¼‰ï¼Œä»è€Œå¯¼è‡´äº†å†²çªã€‚</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414121913298.png" alt="image-20250414121913298"></p>
<ul>
<li>è§£å†³æ–¹æ³•ï¼šä¸€ä¸ªä¸€ä¸ªåšã€‚é€šè¿‡ä¸€ä¸ªMuxè§£å†³ï¼ˆselï¼ša Fetch&#x2F;Execute Bit)</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414122048850.png" alt="image-20250414122048850"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414122147788.png" alt="image-20250414122147788"></p>
<ul>
<li>æ›´ç®€å•çš„è§£å†³æ–¹æ³•ï¼šæŠŠå†…å­˜åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªéƒ¨åˆ†ä½œä¸ºæ•°æ®å­˜å‚¨å™¨ï¼Œå¦ä¸€ä¸ªåŠæ³•ä½œä¸ºç¨‹åºå­˜å‚¨å™¨ã€‚</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414122213402.png" alt="image-20250414122213402"></p>
<h2 id="Next-1"><a href="#Next-1" class="headerlink" title="Next"></a>Next</h2><ul>
<li>è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬è®¨è®ºäº†è®¡ç®—æœºçš„ä¸€èˆ¬æ¶æ„</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414122314197.png" alt="image-20250414122314197"></p>
<ul>
<li>ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬è®¨è®ºæˆ‘ä»¬çš„HACKè®¡ç®—æœº</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414122324359.png" alt="image-20250414122324359"></p>
<hr>
<h1 id="5-3-Central-Processing-Unit"><a href="#5-3-Central-Processing-Unit" class="headerlink" title="5.3 Central Processing Unit"></a>5.3 Central Processing Unit</h1><h2 id="CPU-interface-and-implementation"><a href="#CPU-interface-and-implementation" class="headerlink" title="CPU: interface and implementation"></a>CPU: interface and implementation</h2><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414122436406.png" alt="image-20250414122436406"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414122636301.png" alt="image-20250414122636301"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414122807022.png" alt="image-20250414122807022"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414122921132.png" alt="image-20250414122921132"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414123504372.png" alt="image-20250414123504372"></p>
<h2 id="CPU-Instruction-handling"><a href="#CPU-Instruction-handling" class="headerlink" title="CPU: Instruction handling"></a>CPU: Instruction handling</h2><h3 id="handle-A-instruction"><a href="#handle-A-instruction" class="headerlink" title="handle  A-instruction"></a>handle  A-instruction</h3><ul>
<li><p><strong>åœ°å€å¯„å­˜å™¨</strong></p>
</li>
<li><p>è§£ç ï¼šåˆ†ç¦»æ“ä½œç ï¼ˆæœ€å‰é¢<strong>ä¸€ä½</strong>ï¼Œå°±æ˜¯instruction[15] ï¼‰å’Œå…¶ä»–å­—æ®µï¼ˆ15ä½çš„åœ°å€æˆ–æ˜¯å€¼ï¼‰</p>
</li>
<li><p>ç¡®å®šæ˜¯AæŒ‡ä»¤åï¼Œå–å‡ºå15ä½å€¼ï¼ŒæŠŠå®ƒæ”¾å…¥Aå¯„å­˜å™¨ä¸­ã€‚</p>
</li>
<li><p>CPU åŒæ—¶åšçš„å¦ä¸€ä»¶äº‹ï¼šå–å‡ºAå¯„å­˜å™¨çš„è¾“å‡ºï¼ˆå15ä½ï¼Œins[0..14] )ï¼Œå¹¶é€šè¿‡æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œMåœ°å€â€çš„è¾“å‡ºå°†å…¶è¾“å‡ºåˆ°CPUå¤–éƒ¨ã€‚</p>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414124010589.png" alt="image-20250414124010589"></p>
<h3 id="handle-C-instruction"><a href="#handle-C-instruction" class="headerlink" title="handle  C-instruction"></a>handle  C-instruction</h3><ul>
<li>è§£ç ï¼šåˆ†ç¦»æ“ä½œç å’Œå…¶ä»–ä¸‰ä¸ªå­—æ®µ</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414124307951.png" alt="image-20250414124307951"></p>
<h3 id="A-regester-â€“-again"><a href="#A-regester-â€“-again" class="headerlink" title="A regester â€“ again"></a>A regester â€“ again</h3><ul>
<li>æˆ‘ä»¬å‘ç°ï¼šAå¯„å­˜å™¨ä¹Ÿå¯ä»¥ç”± ALUçš„è¾“å‡º æä¾›æ•°æ®ï¼Œè€Œä¸ä¸€å®šæ˜¯æ¥è‡ªæŒ‡ä»¤è¾“å…¥ã€‚ï¼ˆæ˜¯ä¸æ˜¯æœ‰æ—¶å€™ALUå‘ç°è¯¥è·³è½¬äº†ï¼Œæ‰€ä»¥è¾“å‡ºæŒ‡ä»¤ç»™A regesterï¼Ÿï¼‰</li>
<li>åœ¨æŸäº›æƒ…å†µä¸‹æ˜¯æ“ä½œç ä¸º0çš„AæŒ‡ä»¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›è¾“å…¥æ¥è‡ªæŒ‡ä»¤ã€‚</li>
<li>åœ¨å…¶ä»–æƒ…å†µä¸‹æ˜¯æ“ä½œç ä¸º1çš„CæŒ‡ä»¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›ä»¥æŸç§æ–¹å¼è·¯ç”±Aå¯„å­˜å™¨çš„è¾“å…¥ï¼Œä½¿å¾—è¾“å…¥æ¥è‡ªALUã€‚<ul>
<li>ä¾‹å¦‚ï¼Œå¦‚æœ C æŒ‡ä»¤æ˜¯è¦è®¡ç®—æŸä¸ªæ•°å€¼ä¸ A å¯„å­˜å™¨å½“å‰å€¼çš„å’Œï¼Œé‚£ä¹ˆ ALU ä¼šä» D å¯„å­˜å™¨ï¼ˆæˆ–å…¶ä»–æ•°æ®æºï¼‰å’Œ A å¯„å­˜å™¨è·å–æ“ä½œæ•°è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œ<strong>è¿ç®—ç»“æœå¯èƒ½éœ€è¦å†å­˜å› A å¯„å­˜å™¨</strong>ï¼Œæ‰€ä»¥å°±éœ€è¦å°† ALU çš„è¾“å‡ºè·¯ç”±åˆ° A å¯„å­˜å™¨ä½œä¸ºå…¶è¾“å…¥ã€‚ï¼ˆå°±ä¸ç”¨inMäº†ï¼‰</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414124347934.png" alt="image-20250414124347934"></p>
<h2 id="CPU-ALU-operation"><a href="#CPU-ALU-operation" class="headerlink" title="CPU: ALU operation"></a>CPU: ALU operation</h2><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414124511512.png" alt="image-20250414124511512"></p>
<h3 id="ALU-operation-inputs"><a href="#ALU-operation-inputs" class="headerlink" title="ALU operation: inputs"></a>ALU operation: inputs</h3><ul>
<li>rememberï¼šCæŒ‡ä»¤ç”±ä¸åŒçš„ä½å­—æ®µç»„æˆï¼Œæ¯ä¸ªå­—æ®µéƒ½æœ‰ä¸åŒçš„å«ä¹‰ã€‚</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414124645511.png" alt="image-20250414124645511"></p>
<ul>
<li>ALU æœ‰ä¸¤ä¸ªè¾“å…¥æº , æœ€ç»ˆè¾“å…¥depend on æ§åˆ¶ä½cå’Œ011111(now)</li>
<li>Control bit <strong>from the instruction</strong></li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414124841120.png" alt="image-20250414124841120"></p>
<h3 id="ALU-operation-outputs"><a href="#ALU-operation-outputs" class="headerlink" title="ALU operation: outputs"></a>ALU operation: outputs</h3><ul>
<li>ALU çš„ è¾“å‡ºè¢«é€åˆ°ä¸‰ä¸ªåœ°æ–¹ã€‚</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414125122759.png" alt="image-20250414125122759"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414125129007.png" alt="image-20250414125129007"><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414125141052.png" alt="image-20250414125141052"></p>
<ul>
<li>æˆ‘ä»¬æœ‰ä¸‰ä¸ªç›®çš„åœ°çš„ä½bitï¼Œè¿™äº›bitå†³å®šæ˜¯å¦æ‰“å¼€Då¯„å­˜å™¨ã€Aå¯„å­˜å™¨å’Œæ•°æ®å­˜å‚¨å™¨æ¥æ¥å—ALUçš„è¾“å‡ºã€‚ï¼ˆå³æœ‰é€‰æ‹©æ€§åœ°æ¥æ”¶ï¼‰</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414125230737.png" alt="image-20250414125230737"></p>
<p>Control bit câ€™s?</p>
<ul>
<li>è¿™ä¸¤ä¸ªæ§åˆ¶ä½ç”¨äºè®°å½•ALUçš„è¾“å‡ºæ˜¯è´Ÿè¿˜æ˜¯é›¶ã€‚</li>
<li>important for what follows.</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414125405175.png" alt="image-20250414125405175"></p>
<h2 id="CPUï¼šControl-ï¼ˆlogic"><a href="#CPUï¼šControl-ï¼ˆlogic" class="headerlink" title="CPUï¼šControl ï¼ˆlogic"></a>CPUï¼šControl ï¼ˆlogic</h2><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414125438604.png" alt="image-20250414125438604"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130006833.png" alt="image-20250414130006833"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130112941.png" alt="image-20250414130112941"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130130355.png" alt="image-20250414130130355"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130157260.png" alt="image-20250414130157260"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130224262.png" alt="image-20250414130224262"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130255057.png" alt="image-20250414130255057"></p>
<ul>
<li>if ç¨‹åºå‘˜å·²ç»äº‹å…ˆå°†æƒ³è¦è·³è½¬åˆ°çš„åœ°å€å­˜å…¥äº†Aå¯„å­˜å™¨ã€‚å¦‚æœæˆ‘ä»¬æ‰§è¡ŒPCç­‰äºAï¼Œç¨‹åºè®¡æ•°å™¨å°†è¾“å‡ºæ¥ä¸‹æ¥å¿…é¡»æ‰§è¡Œçš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130323024.png" alt="image-20250414130323024"></p>
<ul>
<li>å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¡ä»¶è·³è½¬ï¼Œæˆ‘ä»¬å¿…é¡»æŸ¥çœ‹ALUçš„è¾“å‡ºï¼Œå¹¶å†³å®šè¿™ä¸ªè·³è½¬æ˜¯å¦åº”è¯¥å®é™…å‘ç”Ÿã€‚<ul>
<li>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ¡ä»¶è·³è½¬æŒ‡ä»¤æ˜¯ â€œå¦‚æœå¯„å­˜å™¨ A ä¸­çš„å€¼å¤§äºå¯„å­˜å™¨ B ä¸­çš„å€¼ï¼Œåˆ™è·³è½¬åˆ°åœ°å€ Xâ€ã€‚åœ¨æ‰§è¡Œè¿™æ¡æŒ‡ä»¤ä¹‹å‰ï¼Œä¼šå…ˆè®© ALU è¿›è¡Œ A - B çš„è¿ç®—ï¼Œç„¶åæ ¹æ® ALU çš„è¾“å‡ºç»“æœï¼ˆå¦‚æœç»“æœå¤§äº 0ï¼Œè¡¨ç¤º A å¤§äº Bï¼‰æ¥å†³å®šæ˜¯å¦è·³è½¬åˆ°åœ°å€ Xã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130403294.png" alt="image-20250414130403294"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414193356928.png" alt="image-20250414193356928"></p>
<h2 id="Last-ï¼šwe-finish-CPU"><a href="#Last-ï¼šwe-finish-CPU" class="headerlink" title="Last ï¼šwe finish CPU"></a>Last ï¼šwe finish CPU</h2><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414193427312.png" alt="image-20250414193427312"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130853170.png" alt="image-20250414130853170"></p>
<p>next</p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130905093.png" alt="image-20250414130905093"></p>
<hr>
<h1 id="5-4-The-Hack-Computer"><a href="#5-4-The-Hack-Computer" class="headerlink" title="5.4 The Hack Computer"></a>5.4 The Hack Computer</h1><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414131123663.png" alt="image-20250414131123663"></p>
<h2 id="Hack-CPU-Operation"><a href="#Hack-CPU-Operation" class="headerlink" title="Hack CPU Operation"></a>Hack CPU Operation</h2><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414131334263.png" alt="image-20250414131334263"></p>
<ul>
<li>å¦‚æœæŒ‡ä»¤ä¸­æåˆ°äº†åŠ©è®°ç¬¦â€œDâ€å’Œâ€œAâ€ï¼ŒCPUå°±ä¼šæ“ä½œä½äºCPUå†…éƒ¨çš„ç›¸åº”çš„<strong>Då¯„å­˜å™¨</strong>å’Œ<strong>Aå¯„å­˜å™¨</strong>ã€‚</li>
<li>å¦‚æœæŒ‡ä»¤æ˜¯ä¸€æ¡AæŒ‡ä»¤ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒCPUä¼šå–å‡ºæ•°æ®å€¼ï¼Œå³è¿™æ¡æŒ‡ä»¤ä¸­æ‰€è°“çš„15ä½çš„â€œxâ€ï¼Œç„¶åå°†å…¶æ”¾å…¥Aå¯„å­˜å™¨ä¸­ã€‚</li>
<li>å¦‚æœæŒ‡ä»¤çš„å³ä¾§(xxx&#x3D;M)åŒ…å« â€œMâ€ï¼Œè¿™ä¸ªå€¼å°†ä» â€œinMâ€ è¯»å–ã€‚</li>
<li>å¦‚æœæŒ‡ä»¤çš„å·¦ä¾§(M&#x3D;xxx)åŒ…å« â€œMâ€ï¼Œé‚£ä¹ˆ ALU çš„è¾“å‡ºå°†é€šè¿‡ â€œoutMâ€ è¾“å‡ºï¼Œå¹¶ä¸” â€œwriteMâ€ ä½ä¼šâ†’1ã€‚</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414131522436.png" alt="image-20250414131522436"></p>
<ul>
<li>çœ‹çœ‹CPUå¦‚ä½•å¤„ç†è·³è½¬æŒ‡ä»¤</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414131732348.png" alt="image-20250414131732348"></p>
<h2 id="Memory-1"><a href="#Memory-1" class="headerlink" title="Memory"></a>Memory</h2><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414131810280.png" alt="image-20250414131810280"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414131908596.png" alt="image-20250414131908596"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414131927630.png" alt="image-20250414131927630"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414132122759.png" alt="image-20250414132122759"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414132409978.png" alt="image-20250414132409978"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414132553181.png" alt="image-20250414132553181"></p>
<ul>
<li><p>æŒ‡ä»¤å­˜å‚¨å™¨ Instruction Memory  (ROMï¼šRead - Only Memoryï¼‰</p>
</li>
<li><p>åœ¨è®¡ç®—æœºè¿è¡Œä¹‹å‰ï¼Œéœ€è¦å°†<strong>ç¼–å†™å¥½çš„ Hack ç¨‹åºæ•°æ®å›ºåŒ–åˆ° ROM32K èŠ¯ç‰‡ä¸­</strong>ã€‚</p>
</li>
<li><p>ç¨‹åºä¸­çš„æ¯ä¸€æ¡æŒ‡ä»¤éƒ½æŒ‰ç…§ä¸€å®šçš„é¡ºåºå’Œæ ¼å¼å­˜å‚¨åœ¨ ROM çš„ä¸åŒå­˜å‚¨å•å…ƒä¸­ï¼Œæ¯ä¸ªå­˜å‚¨å•å…ƒéƒ½æœ‰å”¯ä¸€å¯¹åº”çš„åœ°å€ã€‚</p>
</li>
<li><p><strong>åœ¨ Hack è®¡ç®—æœºè¿è¡Œæ—¶ï¼Œç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰ä¼šä¸æ–­åœ°å‘ ROM çš„åœ°å€ç«¯å£æä¾›åœ°å€ï¼ŒROM æ ¹æ®è¿™äº›åœ°å€è¾“å‡ºç›¸åº”çš„æŒ‡ä»¤ï¼Œç„¶å CPU ä» ROM çš„è¾“å‡ºä¸­è·å–æŒ‡ä»¤å¹¶æ‰§è¡Œï¼Œä»è€Œå®ç°æ•´ä¸ªç¨‹åºçš„è¿è¡Œã€‚</strong></p>
<ul>
<li>ä¾‹å¦‚ï¼Œå½“ PC è¾“å‡ºåœ°å€ä¸º 0 æ—¶ï¼ŒROM ä¼šä»åœ°å€ä¸º 0 çš„å­˜å‚¨å•å…ƒä¸­å–å‡ºå¯¹åº”çš„ Hack æŒ‡ä»¤ï¼Œä¼ é€’ç»™ CPU å»æ‰§è¡Œï¼Œç„¶å PC å†é€’å¢ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªåœ°å€ï¼ŒROM åˆè¾“å‡ºä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œå¦‚æ­¤å¾ªç¯ï¼Œä½¿å¾—ç¨‹åºèƒ½å¤ŸæŒ‰é¡ºåºæ‰§è¡Œã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414132654354.png" alt="image-20250414132654354"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414132729661.png" alt="image-20250414132729661"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414132829344.png" alt="image-20250414132829344"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414132836410.png" alt="image-20250414132836410"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414133500747.png" alt="image-20250414133500747"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414133505468.png" alt="image-20250414133505468"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414133540257.png" alt="image-20250414133540257"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414133545883.png" alt="image-20250414133545883"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414133551712.png" alt="image-20250414133551712"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414133828858.png" alt="image-20250414133828858"></p>
<hr>
<h1 id="5-5-code"><a href="#5-5-code" class="headerlink" title="5.5 code"></a>5.5 code</h1><h2 id="RAM16Kï¼ŒScreenï¼ŒKeyboard"><a href="#RAM16Kï¼ŒScreenï¼ŒKeyboard" class="headerlink" title="RAM16Kï¼ŒScreenï¼ŒKeyboard"></a>RAM16Kï¼ŒScreenï¼ŒKeyboard</h2><blockquote>
<p>background</p>
</blockquote>
<ul>
<li><p><strong>8K &#x3D; 2çš„13æ¬¡æ–¹ã€‚16K &#x3D; 2çš„14æ¬¡æ–¹ã€‚</strong></p>
</li>
<li><p><strong>address[15] è¡¨ç¤º address æ˜¯ä¸€ä¸ª 16 ä½çš„ä¿¡å·ã€‚</strong>address[15] æ˜¯ç¬¬ 1 ä½ï¼Œ<strong>address[0] å°±æ˜¯ç¬¬ 16 ä½ã€‚</strong></p>
</li>
<li><p><strong>RAM16K çš„åœ°å€èŒƒå›´</strong>:**(16K)**ï¼ˆ0åˆ°16383)éœ€è¦ 14 ä½åœ°å€æ¥å”¯ä¸€æ ‡è¯†æ¯ä¸ªå­˜å‚¨å•å…ƒï¼Œå³ address[0..13] è¿™ 14 ä½åœ°å€ã€‚</p>
</li>
<li><p><strong>Screen çš„åœ°å€èŒƒå›´</strong>ï¼š**(8K)**ï¼ˆ16384-24575ï¼‰éœ€è¦ä½¿ç”¨ 13 ä½åœ°å€ï¼ˆaddress[0..12]ï¼‰å°±å¯ä»¥æ»¡è¶³å…¶å¯»å€éœ€æ±‚ã€‚</p>
</li>
<li><p>å¯ä»¥æ˜æ˜¾çœ‹å‡ºï¼Œä¸€ä¸ªåœ°å€å¦‚æœåœ¨0-16383å†…ï¼Œå®ƒå°±å±äº RAM16K çš„åœ°å€ç©ºé—´ï¼›å¦‚æœåœ¨16384-24575å†…ï¼Œå®ƒå°±å±äº Screen çš„åœ°å€ç©ºé—´ã€‚æ‰€ä»¥<strong>å®ƒä»¬çš„åœ°å€æ˜¯åˆ†å¼€çš„ï¼Œæ²¡æœ‰é‡åˆã€‚</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHIP RAM16K &#123;</span><br><span class="line">    IN in[16], load, address[14];</span><br><span class="line">    OUT out[16];</span><br><span class="line">    // RAM16Kæ˜¯ä¸€ä¸ªå­˜å‚¨å™¨ï¼Œç”±16åƒä¸ª16-bitå¯„å­˜å™¨ç»„æˆã€‚</span><br><span class="line">    // æ¯æ¬¡è¾“å…¥ä¸€ä¸ª16ä½çš„æ•°ï¼ŒRAM16Kä¼šæ ¹æ®å…¶addresså†³å®šå°†å…¶å­˜å‚¨åˆ°å“ªä¸ªä½ç½®ã€‚</span><br><span class="line">    // å…·ä½“çš„åœ°å€å†³å®šæ–¹æ³•æ˜¯ï¼šæ ¹æ®addressçš„é«˜2ä½ï¼ˆaddress[12..13]ï¼‰é€‰æ‹©ä¸€ä¸ª4Kçš„å­˜å‚¨å—ï¼Œ</span><br><span class="line">    // ç„¶åæ ¹æ®ä½12ä½ï¼ˆaddress[0..11]ï¼‰åœ¨æ‰€é€‰çš„4Kå—å†…ç¡®å®šå…·ä½“çš„å­˜å‚¨ä½ç½®ã€‚ï¼ˆä»¥æ­¤ç±»æ¨ï¼Œæ‰¾åˆ°the only oneï¼‰</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    DMux4Way(in = load,sel = address[12..13],a = a,b = b,c = c,d = d);</span><br><span class="line">  </span><br><span class="line">    RAM4K(in=in , load=a , address=address[0..11] , out=outa );</span><br><span class="line">    RAM4K(in=in , load=b , address=address[0..11] , out=outb );</span><br><span class="line">    RAM4K(in=in , load=c , address=address[0..11] , out=outc );</span><br><span class="line">    RAM4K(in=in , load=d , address=address[0..11] , out=outd );</span><br><span class="line">    </span><br><span class="line">    Mux4Way16(a=outa , b=outb , c=outc , d=outd , sel=address[12..13] , out=out);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHIP Screen &#123;</span><br><span class="line"></span><br><span class="line">    IN  in[16],    // what to write</span><br><span class="line">    load,          // write-enable bit</span><br><span class="line">    address[13];   // where to read/write</span><br><span class="line">    OUT out[16];   // Screen value at the given address</span><br><span class="line"></span><br><span class="line">    BUILTIN Screen;</span><br><span class="line">    CLOCKED in, load;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHIP Keyboard&#123;</span><br><span class="line">    OUT out[16];</span><br><span class="line">    BUILTIN keyboard;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Memory-2"><a href="#Memory-2" class="headerlink" title="Memory"></a>Memory</h2><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250415180524.jpg"  />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHIP Memory &#123;</span><br><span class="line">    IN in[16], load, address[15];</span><br><span class="line">    OUT out[16];</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    DMux4Way(in=load, sel=address[13..14], a=ram1, b=ram2, c=scrn, d=keybd); // 1314ï¼Ÿï¼Ÿ</span><br><span class="line">    Or(a=ram1 , b=ram2, out=ram3);</span><br><span class="line">    RAM16K(in=in, load=ram3, address=address[0..13], out=ram );</span><br><span class="line">    Screen(in=in, load=scrn, address=address[0..12], out=sc);</span><br><span class="line">    Keyboard(out=kbd);</span><br><span class="line">    Mux4Way16(a=ram, b=ram, c=sc, d=kbd, sel=address[13..14], out=out);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h2><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414122921132.png" alt="image-20250414122921132"  />

<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414123504372.png" alt="image-20250414123504372"  />



<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408152923618.png" alt="image-20250408152923618"  /><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250406111659071.png" alt="image-20250406111659071" style="zoom: 80%;" /></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHIP CPU &#123;</span><br><span class="line"></span><br><span class="line">    IN  inM[16],         // M value input  (M = contents of RAM[A])</span><br><span class="line">        instruction[16], // Instruction for execution</span><br><span class="line">        reset;           // Signals whether to re-start the current</span><br><span class="line">                         // program (reset==1) or continue executing</span><br><span class="line">                         // the current program (reset==0).</span><br><span class="line"></span><br><span class="line">    OUT outM[16],        // M value output</span><br><span class="line">        writeM,          // Write to M? </span><br><span class="line">        addressM[15],    // Address in data memory (of M)</span><br><span class="line">        pc[15];          // address of next instruction</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">	// A-register å¯èƒ½æ‰§è¡Œ A/C æŒ‡ä»¤ï¼ˆä½†æ˜¯cæŒ‡ä»¤åªèƒ½ä»alu_outå¤„è€Œæ¥ï¼Œå…¶å®aluæœ¬èº«å°±èƒ½æ¥æ”¶æŒ‡ä»¤çš„ï¼Œæ‰€ä»¥ç¬¬ä¸€å…³ä¸‹éƒ¨ä¸ç»™cè¿›åªèƒ½aè¿›æ˜¯æœ‰åŸå› çš„ï¼‰</span><br><span class="line">    // A instruction</span><br><span class="line">    // @3001</span><br><span class="line">    // [0]000101110111001</span><br><span class="line">     </span><br><span class="line">     // ç”¨é€”ä¸€ï¼šå°†å¸¸æ•°è¾“å…¥è®¡ç®—æœº</span><br><span class="line">     // ç”¨é€”äºŒï¼šä¸º C - æŒ‡ä»¤æä¾›ç›®æ ‡æ•°æ®å†…å­˜å•å…ƒçš„åœ°å€ï¼ˆæ”¾å…¥ A å¯„å­˜å™¨ï¼‰</span><br><span class="line">     // ç”¨é€”ä¸‰ï¼šä¸ºè·³è½¬æŒ‡ä»¤æä¾›ç›®çš„åœ°å€</span><br><span class="line">    </span><br><span class="line">    Not(in=instruction[15] , out=notop ); </span><br><span class="line">    Mux16(a=aluOut, b=instruction , sel=notop , out=q1 ); 	 </span><br><span class="line">    Or(a=instruction[5] , b=notop , out=intoA );  </span><br><span class="line">    ARegister(in=q1, load=intoA, out=A,out[0..14]=addressM); // åŒæ—¶å‚¨å­˜å¹¶è¾“å‡ºaddressM </span><br><span class="line">    		</span><br><span class="line">    And(a=instruction[15] , b=instruction[12] , out=AMSwitch ); </span><br><span class="line">    Mux16(a=A , b=inM , sel=AMSwitch , out=AM );</span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line">    // C instruction</span><br><span class="line">    // i  _  _  a  c1 c2 c3 c4 c5 c6 d1 d2 d3 j1 j2 j3</span><br><span class="line">    // 15 14 13 12 11 10 09 08 07 06 05 04 03 02 01 00</span><br><span class="line">    // ins[5]æ˜¯CæŒ‡ä»¤ä¸­çš„destæŒ‡ä»¤(=1è¡¨ç¤ºå»Aå¯„å­˜å™¨)</span><br><span class="line">    // ins[12]æ˜¯a=0/1ï¼Œç”¨äºåœ¨ CæŒ‡ä»¤ä¸­ å†³å®šæ˜¯ä½¿ç”¨ Aå¯„å­˜å™¨çš„å€¼ï¼ˆAï¼‰è¿˜æ˜¯å†…å­˜çš„å€¼ï¼ˆinMï¼‰ï¼ˆAæŒ‡ä»¤æ—¶ç›´æ¥ç”¨inMäº†ï¼Œæœ‰sel aé€šè¿‡ä¸äº†ï¼ŒinMå¯ä»¥ï¼‰</span><br><span class="line">    </span><br><span class="line">    And(a=instruction[15] , b=instruction[4] , out=intoD );</span><br><span class="line">    DRegister(in=aluOut , load=intoD , out=D ); // D å¯„å­˜å™¨ï¼šforæ•°æ®æš‚å­˜</span><br></pre></td></tr></table></figure>

<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250415200024.jpg"></p>
<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250408153509769.png" alt="image-20250408153509769"  />

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> // ALU</span><br><span class="line">    // ALU takes input from DRegister and from ARegister or inM</span><br><span class="line">    // addressM æ˜¯ç”¨æ¥ç¡®å®šä»å“ªé‡Œè¯»å–æ•°æ®ï¼Œè€Œ inM æ˜¯å®é™…è¯»å–åˆ°çš„æ•°æ®ã€‚</span><br><span class="line">    // ALUçš„zx,nx,zy,ny,f,noè¿™äº›æ§åˆ¶ä¿¡å·æ˜¯ç”±æ“ä½œç  c1 - c6 ç»è¿‡ä¸€å®šé€»è¾‘è½¬æ¢å¾—åˆ°çš„ï¼Œæ‰€ä»¥CæŒ‡ä»¤è¿›ä¸å»Aå¯„å­˜å™¨ï¼Œä½†æ˜¯ALUä¹Ÿæ˜¯èƒ½è·å¾—å…¶æ“ä½œç è¿›è¡Œæ“ä½œçš„ã€‚â­</span><br><span class="line">    ALU(x=D, y=AM, out=aluOut, out=outM,</span><br><span class="line">        zx=instruction[11],</span><br><span class="line">        nx=instruction[10],</span><br><span class="line">        zy=instruction[9],</span><br><span class="line">        ny=instruction[8],</span><br><span class="line">        f=instruction[7],</span><br><span class="line">        no=instruction[6],</span><br><span class="line">        zr=zrOut,</span><br><span class="line">        ng=ngOut</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    // writeM</span><br><span class="line">    And(a=instruction[15] , b=instruction[3] , out=writeM );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// PC </span><br><span class="line">    // PC çš„ loadè®¾ç½®â­</span><br><span class="line">    Not(in=ngOut , out=pos );</span><br><span class="line">    Not(in=zrOut , out=nzr );</span><br><span class="line"></span><br><span class="line">    // å¤„ç†JGTæ¡ä»¶(&gt;0 jump)</span><br><span class="line">    And(a=instruction[15] , b=instruction[0] , out=jgt );</span><br><span class="line">    And(a=pos , b=nzr , out=posnzr );</span><br><span class="line">    And(a=jgt , b=posnzr , out=ld1 ); </span><br><span class="line"></span><br><span class="line">    // å¤„ç†JEQæ¡ä»¶(=0 jump)</span><br><span class="line">    And(a=instruction[15] , b=instruction[1] , out=jeq );</span><br><span class="line">    And(a=jeq , b=zrOut , out=ld2 ); </span><br><span class="line"></span><br><span class="line">    // å¤„ç†JLTæ¡ä»¶(&lt;0 jump)</span><br><span class="line">    And(a=instruction[15] , b=instruction[2] , out=jlt );</span><br><span class="line">    And(a=jlt , b=ngOut , out=ld3 );</span><br><span class="line"></span><br><span class="line">    //åˆå¹¶è·³è½¬æ¡ä»¶ï¼Œç”Ÿæˆæœ€ç»ˆçš„load</span><br><span class="line">    Or(a=ld1 , b=ld2 , out=ldt ); </span><br><span class="line">    Or(a=ld3 , b=ldt , out=loadd );</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    PC(in=A , load=loadd , inc=true , reset=reset , out[0..14]=pc);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å†…å­˜æ ¹æ® PC æä¾›çš„åœ°å€ï¼Œå°†å¯¹åº”åœ°å€å¤„çš„æŒ‡ä»¤è¾“å‡ºä¸º instructionã€‚</span><br><span class="line">// ä½†è¿™å¹¶ä¸æ˜¯ PC è¾“å‡ºåè¢«å†™å…¥ RAM ï¼Œè€Œæ˜¯ PC æä¾›ä¸€ä¸ªåœ°å€ç´¢å¼•ï¼Œå†…å­˜æ ¹æ®è¿™ä¸ªç´¢å¼•å°†å­˜å‚¨åœ¨è¯¥åœ°å€çš„æŒ‡ä»¤æ•°æ®è¾“å‡ºã€‚</span><br></pre></td></tr></table></figure>

<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414193356928.png" alt="image-20250414193356928"  />

<img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414130853170.png" alt="image-20250414130853170"  />

<h2 id="Computer"><a href="#Computer" class="headerlink" title="Computer"></a>Computer</h2><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250414133828858.png" alt="image-20250414133828858"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CHIP Computer &#123;</span><br><span class="line"></span><br><span class="line">    IN reset;</span><br><span class="line"></span><br><span class="line">    PARTS:</span><br><span class="line">    ROM32K(address=pc , out=instruction );</span><br><span class="line">    CPU(inM=inM, instruction=instruction , reset=reset , outM=outM , writeM=writeM , addressM=addressM , pc=pc );</span><br><span class="line">    Memory(in=outM , load=writeM , address=addressM , out=inM );</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>nand2tetris</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello world2</title>
    <url>/2025/04/19/text/</url>
    <content><![CDATA[<h3 id="text"><a href="#text" class="headerlink" title="text"></a>text</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/Rplot05.png"></p>
]]></content>
      <categories>
        <category>other</category>
      </categories>
  </entry>
  <entry>
    <title>proj6</title>
    <url>/2025/05/04/nand2tetris-proj6-final/</url>
    <content><![CDATA[<h3 id="6-1-Assembler"><a href="#6-1-Assembler" class="headerlink" title="6.1 Assembler"></a>6.1 Assembler</h3><h4 id="P5-review"><a href="#P5-review" class="headerlink" title="P5 review"></a>P5 review</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250415234251717.png" alt="image-20250415234251717"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250415234356010.png" alt="image-20250415234356010"></p>
<h4 id="What-we-need-an-Assembler"><a href="#What-we-need-an-Assembler" class="headerlink" title="What we need: an Assembler"></a>What we need: an Assembler</h4><ul>
<li>æ±‡ç¼–å™¨ï¼šæŠŠæ±‡ç¼–è¯­è¨€ï¼Œè½¬åŒ–æˆæœºå™¨è¯­è¨€çš„ä¸€ä¸ªsofe wareï¼ˆthe first sofeware layer above the hard ware)</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416121246454.png" alt="image-20250416121246454"></p>
<h4 id="A-fun-way-to-look-at-Assembler"><a href="#A-fun-way-to-look-at-Assembler" class="headerlink" title="A fun way to look at Assembler"></a>A fun way to look at Assembler</h4><ul>
<li>We already have our first computer. It is <strong>difficult</strong> <strong>to write</strong> machine language.</li>
<li>So we can bulid our second computer(is acutally a sofeware haha), which is called Assembler ( can translate assembly language to machine languageï¼‰</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416121549820.png" alt="image-20250416121549820"></p>
<h4 id="Basic-Assembler-Logic"><a href="#Basic-Assembler-Logic" class="headerlink" title="Basic Assembler Logic"></a>Basic Assembler Logic</h4><h5 id="basic"><a href="#basic" class="headerlink" title="basic"></a>basic</h5><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416121915773.png" alt="image-20250416121915773"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416122001311.png" alt="image-20250416122001311"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416122058367.png" alt="image-20250416122058367"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416122146818.png" alt="image-20250416122146818"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416122255261.png" alt="image-20250416122255261"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416122332192.png" alt="image-20250416122332192"></p>
<h5 id="other"><a href="#other" class="headerlink" title="other"></a>other</h5><ul>
<li>We have something to deal with - the Symbols.</li>
<li>We have two kinds of symbols: <strong>Labels and Variables.</strong></li>
<li><strong>We need replace their names with address</strong></li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416122505756.png" alt="image-20250416122505756"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416125136494.png" alt="image-20250416125136494"></p>
<h5 id="last-problems"><a href="#last-problems" class="headerlink" title="last problems"></a>last problems</h5><ul>
<li>Sometime we need the labels before we define them.</li>
<li>I like the second solution.</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416125537937.png" alt="image-20250416125537937"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416123427577.png" alt="image-20250416123427577"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416123436546.png" alt="image-20250416123436546"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416123442487.png" alt="image-20250416123442487"></p>
<hr>
<h3 id="6-2-The-translatorâ€™s-challenge-preparation"><a href="#6-2-The-translatorâ€™s-challenge-preparation" class="headerlink" title="6.2  The translatorâ€™s challenge ( preparation )"></a>6.2  The translatorâ€™s challenge ( <strong>preparation</strong> )</h3><ul>
<li>We will soon actually build our Assembler.</li>
<li>To start with, we need to know the challenges we may face.</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416125952491.png" alt="image-20250416125952491"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416130030648.png" alt="image-20250416130030648"></p>
<ul>
<li>So, we need to know the syntax of Hack language</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416130212289.png" alt="image-20250416130212289"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416130224972.png" alt="image-20250416130224972"></p>
<ul>
<li>Those are all the challenges.</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416130423237.png" alt="image-20250416130423237"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416130432295.png" alt="image-20250416130432295"></p>
<ul>
<li>Letâ€™s deal with them one by one.</li>
<li>Symbols are difficult, so we will deal with them later. ( <strong>Summiting the mountain may be easier from the other side than from the starting side.</strong> )</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416130543505.png" alt="image-20250416130543505"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416130650303.png" alt="image-20250416130650303"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416130754099.png" alt="image-20250416130754099"></p>
<ul>
<li><strong>The plan ahead</strong></li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416130859437.png" alt="image-20250416130859437"></p>
<hr>
<h3 id="6-3-Translating-challenge-1-A-C-Struction"><a href="#6-3-Translating-challenge-1-A-C-Struction" class="headerlink" title="6.3 Translating challenge 1 :  A&#x2F;C  Struction"></a>6.3 Translating challenge 1 :  A&#x2F;C  Struction</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416134201668.png" alt="image-20250416134201668"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416134739093.png" alt="image-20250416134739093"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416135103314.png" alt="image-20250416135103314"></p>
<hr>
<h3 id="6-4-Translating-challenge-1-Struction-with-Symbols"><a href="#6-4-Translating-challenge-1-Struction-with-Symbols" class="headerlink" title="6.4 Translating challenge 1 :  Struction with Symbols"></a>6.4 Translating challenge 1 :  Struction with Symbols</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416135923947.png" alt="image-20250416135923947"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416140121297.png" alt="image-20250416140121297"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416140447481.png" alt="image-20250416140447481"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416140743441.png" alt="image-20250416140743441"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416141031541.png" alt="image-20250416141031541"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416141210069.png" alt="image-20250416141210069"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416141338475.png" alt="image-20250416141338475"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416141555469.png" alt="image-20250416141555469"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416141914934.png" alt="image-20250416141914934"></p>
<hr>
<h3 id="6-5-Use-Java-to-build-Assembler"><a href="#6-5-Use-Java-to-build-Assembler" class="headerlink" title="6.5 Use Java to build Assembler"></a>6.5 Use Java to build Assembler</h3><h4 id="ä¸‰ä¸ªæ­¥éª¤"><a href="#ä¸‰ä¸ªæ­¥éª¤" class="headerlink" title="ä¸‰ä¸ªæ­¥éª¤"></a>ä¸‰ä¸ªæ­¥éª¤</h4><ul>
<li>ç¬¬ä¸€æ­¥ï¼šè§£æå‘½ä»¤<ul>
<li>è¯»å–æ–‡ä»¶ä¸€ä¸ªä¸ªè·å–å‘½ä»¤ï¼Œçœ‹æ˜¯ä»€ä¹ˆå‘½ä»¤</li>
</ul>
</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416144431385.png" alt="image-20250416144431385"></p>
<ul>
<li>ç¬¬äºŒæ­¥ï¼š</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416142427353.png" alt="image-20250416142427353"></p>
<ul>
<li>ç¬¬ä¸‰æ­¥ï¼šå¤„ç†ç¬¦å·</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416142441071.png" alt="image-20250416142441071"></p>
<h4 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h4><ul>
<li>å”¯ä¸€éœ€è¦äº†è§£çš„å°±æ˜¯è¾“å…¥è¯­è¨€çš„æ ¼å¼ï¼Œä»¥åŠå®ƒå¦‚ä½•åˆ†è§£æˆä¸åŒçš„ç»„ä»¶</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416142533923.png" alt="image-20250416142533923"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416142721990.png" alt="image-20250416142721990"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416142818023.png" alt="image-20250416142818023"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416143024166.png" alt="image-20250416143024166"></p>
<h4 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416143153847.png" alt="image-20250416143153847"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416143320447.png" alt="image-20250416143320447"></p>
<h4 id="ç¬¬ä¸‰æ­¥"><a href="#ç¬¬ä¸‰æ­¥" class="headerlink" title="ç¬¬ä¸‰æ­¥"></a>ç¬¬ä¸‰æ­¥</h4><ul>
<li>å”¯ä¸€è¦åšçš„ï¼šä¿å­˜ç¬¦å·å’Œå†…å­˜åœ°å€ä¹‹é—´çš„å…³è”</li>
</ul>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416143506189.png" alt="image-20250416143506189"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416143618139.png" alt="image-20250416143618139"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416143741218.png" alt="image-20250416143741218"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416143841714.png" alt="image-20250416143841714"></p>
<h4 id="æ€»çš„æ¥è¯´"><a href="#æ€»çš„æ¥è¯´" class="headerlink" title="æ€»çš„æ¥è¯´"></a>æ€»çš„æ¥è¯´</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416144043853.png" alt="image-20250416144043853"></p>
<hr>
<h3 id="6-6-Proj-6-Overview"><a href="#6-6-Proj-6-Overview" class="headerlink" title="6.6 Proj 6 Overview"></a>6.6 Proj 6 Overview</h3><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416145841739.png" alt="image-20250416145841739"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416150048896.png" alt="image-20250416150048896"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416150329421.png" alt="image-20250416150329421"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416150526237.png" alt="image-20250416150526237"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416150630531.png" alt="image-20250416150630531"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416150707107.png" alt="image-20250416150707107"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416151522621.png" alt="image-20250416151522621"></p>
<p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416151656158.png" alt="image-20250416151656158"></p>
<h3 id="6-7-code"><a href="#6-7-code" class="headerlink" title="6.7 code"></a>6.7 code</h3><h4 id="Parser"><a href="#Parser" class="headerlink" title="Parser"></a>Parser</h4><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parser</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Encapsulates access to the input code. Reads an assembly language command, </span></span><br><span class="line"><span class="string">    parses it, and provides convenient access to the commandâ€™s components </span></span><br><span class="line"><span class="string">    (fields and symbols). In addition, removes all white space and comments.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, in_file</span>):</span><br><span class="line">        <span class="variable language_">self</span>.file_name = in_file</span><br><span class="line">        <span class="variable language_">self</span>.prog_text = <span class="variable language_">self</span>.read_asm(in_file)</span><br><span class="line">        <span class="variable language_">self</span>.prog_num = <span class="built_in">len</span>(<span class="variable language_">self</span>.prog_text)</span><br><span class="line">        <span class="variable language_">self</span>.cmd_next = <span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.cmd_text = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">read_asm</span>(<span class="params">self, input_file</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Read .asm file from disk, return list of strings for commands only</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        prog_text = []</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(input_file) <span class="keyword">as</span> fp:</span><br><span class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> fp.readlines():</span><br><span class="line">                <span class="comment"># å»é™¤æ³¨é‡Šå’Œç©ºç™½è¡Œ</span></span><br><span class="line">                line = line.strip()</span><br><span class="line">                <span class="keyword">if</span> line <span class="keyword">and</span> <span class="keyword">not</span> line.startswith(<span class="string">&#x27;//&#x27;</span>):</span><br><span class="line">                    <span class="comment"># å»é™¤è¡Œæœ«çš„æ³¨é‡Š</span></span><br><span class="line">                    line = line.split(<span class="string">&#x27;//&#x27;</span>)[<span class="number">0</span>].strip()</span><br><span class="line">                    prog_text.append(line)</span><br><span class="line">        <span class="keyword">return</span> prog_text</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reset_read</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Reset reading for second pass</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">self</span>.cmd_next = <span class="number">0</span></span><br><span class="line">        <span class="variable language_">self</span>.cmd_text = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">has_more_commands</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Are there more commands in the input?</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.cmd_next &lt; <span class="variable language_">self</span>.prog_num</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">advance</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Reads the next command from the input and makes it the current command. </span></span><br><span class="line"><span class="string">        Should be called only if hasMoreCommands() is true. </span></span><br><span class="line"><span class="string">        Initially there is no current command. </span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.has_more_commands():</span><br><span class="line">            <span class="variable language_">self</span>.cmd_text = <span class="variable language_">self</span>.prog_text[<span class="variable language_">self</span>.cmd_next]</span><br><span class="line">            <span class="variable language_">self</span>.cmd_next += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">command_type</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Returns the type of the current command:</span></span><br><span class="line"><span class="string">        m A_COMMAND for @Xxx where Xxx is either a symbol or a decimal number</span></span><br><span class="line"><span class="string">        m C_COMMAND for dest=comp;jump</span></span><br><span class="line"><span class="string">        m L_COMMAND (actually, pseudo-command) for (Xxx) where Xxx is a symbol.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.cmd_text.startswith(<span class="string">&#x27;(&#x27;</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;L_COMMAND&#x27;</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="variable language_">self</span>.cmd_text.startswith(<span class="string">&#x27;@&#x27;</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;A_COMMAND&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;C_COMMAND&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">symbol</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Returns the symbol or decimal Xxx of the current command @Xxx or (Xxx). </span></span><br><span class="line"><span class="string">        Should be called only when commandType() is A_COMMAND or L_COMMAND.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.command_type() == <span class="string">&#x27;L_COMMAND&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">self</span>.cmd_text[<span class="number">1</span>:-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">elif</span> <span class="variable language_">self</span>.command_type() == <span class="string">&#x27;A_COMMAND&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">self</span>.cmd_text[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dest</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Returns the dest mnemonic in the current C-command (8 possibilities). </span></span><br><span class="line"><span class="string">        Should be called only when commandType() is C_COMMAND.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.command_type() == <span class="string">&#x27;C_COMMAND&#x27;</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;=&#x27;</span> <span class="keyword">in</span> <span class="variable language_">self</span>.cmd_text:</span><br><span class="line">                <span class="keyword">return</span> <span class="variable language_">self</span>.cmd_text.split(<span class="string">&#x27;=&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">comp</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Returns the comp mnemonic in the current C-command (28 possibilities). </span></span><br><span class="line"><span class="string">        Should be called only when commandType() is C_COMMAND.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.command_type() == <span class="string">&#x27;C_COMMAND&#x27;</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;=&#x27;</span> <span class="keyword">in</span> <span class="variable language_">self</span>.cmd_text:</span><br><span class="line">                <span class="keyword">return</span> <span class="variable language_">self</span>.cmd_text.split(<span class="string">&#x27;=&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;;&#x27;</span> <span class="keyword">in</span> <span class="variable language_">self</span>.cmd_text:</span><br><span class="line">                <span class="keyword">return</span> <span class="variable language_">self</span>.cmd_text.split(<span class="string">&#x27;;&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">jump</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Returns the jump mnemonic in the current C-command (8 possibilities). </span></span><br><span class="line"><span class="string">        Should be called only when commandType() is C_COMMAND.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;;&#x27;</span> <span class="keyword">in</span> <span class="variable language_">self</span>.cmd_text:</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">self</span>.cmd_text.split(<span class="string">&#x27;;&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><p><img src="https://dbddbdbdbd.oss-cn-qingdao.aliyuncs.com/image-20250416134739093.png" alt="image-20250416134739093"></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Code</span>:</span><br><span class="line">	<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">	Translates Hack assembly language mnemonics into binary codes.</span></span><br><span class="line"><span class="string">	&quot;&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.dest_list = [<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;MD&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;AM&#x27;</span>, <span class="string">&#x27;AD&#x27;</span>, <span class="string">&#x27;AMD&#x27;</span>]</span><br><span class="line">        <span class="variable language_">self</span>.jump_list = [<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;JGT&#x27;</span>, <span class="string">&#x27;JEQ&#x27;</span>, <span class="string">&#x27;JGE&#x27;</span>, <span class="string">&#x27;JLT&#x27;</span>, <span class="string">&#x27;JNE&#x27;</span>, <span class="string">&#x27;JLE&#x27;</span>, <span class="string">&#x27;JMP&#x27;</span>]</span><br><span class="line">        <span class="variable language_">self</span>.comp_dict = &#123;</span><br><span class="line">            <span class="string">&#x27;0&#x27;</span>: <span class="string">&#x27;0101010&#x27;</span>, <span class="string">&#x27;1&#x27;</span>: <span class="string">&#x27;0111111&#x27;</span>, <span class="string">&#x27;-1&#x27;</span>: <span class="string">&#x27;0111010&#x27;</span>, <span class="string">&#x27;D&#x27;</span>: <span class="string">&#x27;0001100&#x27;</span>, </span><br><span class="line">		   <span class="string">&#x27;A&#x27;</span>: <span class="string">&#x27;0110000&#x27;</span>, <span class="string">&#x27;!D&#x27;</span>: <span class="string">&#x27;0001101&#x27;</span>, <span class="string">&#x27;!A&#x27;</span>: <span class="string">&#x27;0110001&#x27;</span>, <span class="string">&#x27;-D&#x27;</span>: <span class="string">&#x27;0001111&#x27;</span>, </span><br><span class="line">		   <span class="string">&#x27;-A&#x27;</span>: <span class="string">&#x27;0110011&#x27;</span>, <span class="string">&#x27;D+1&#x27;</span>: <span class="string">&#x27;0011111&#x27;</span>, <span class="string">&#x27;A+1&#x27;</span>: <span class="string">&#x27;0110111&#x27;</span>, <span class="string">&#x27;D-1&#x27;</span>: <span class="string">&#x27;0001110&#x27;</span>, </span><br><span class="line">		   <span class="string">&#x27;A-1&#x27;</span>: <span class="string">&#x27;0110010&#x27;</span>, <span class="string">&#x27;D+A&#x27;</span>: <span class="string">&#x27;0000010&#x27;</span>, <span class="string">&#x27;D-A&#x27;</span>: <span class="string">&#x27;0010011&#x27;</span>, <span class="string">&#x27;A-D&#x27;</span>: <span class="string">&#x27;0000111&#x27;</span>, </span><br><span class="line">		   <span class="string">&#x27;D&amp;A&#x27;</span>: <span class="string">&#x27;0000000&#x27;</span>, <span class="string">&#x27;D|A&#x27;</span>: <span class="string">&#x27;0010101&#x27;</span>, <span class="string">&#x27;M&#x27;</span>: <span class="string">&#x27;1110000&#x27;</span>, <span class="string">&#x27;!M&#x27;</span>: <span class="string">&#x27;1110001&#x27;</span>, </span><br><span class="line">		   <span class="string">&#x27;-M&#x27;</span>: <span class="string">&#x27;1110011&#x27;</span>, <span class="string">&#x27;M+1&#x27;</span>: <span class="string">&#x27;1110111&#x27;</span>, <span class="string">&#x27;M-1&#x27;</span>: <span class="string">&#x27;1110010&#x27;</span>, <span class="string">&#x27;D+M&#x27;</span>: <span class="string">&#x27;1000010&#x27;</span>, </span><br><span class="line">		   <span class="string">&#x27;D-M&#x27;</span>: <span class="string">&#x27;1010011&#x27;</span>, <span class="string">&#x27;M-D&#x27;</span>: <span class="string">&#x27;1000111&#x27;</span>, <span class="string">&#x27;D&amp;M&#x27;</span>: <span class="string">&#x27;1000000&#x27;</span>, <span class="string">&#x27;D|M&#x27;</span>: <span class="string">&#x27;1010101&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">a_code</span>(<span class="params">self, val</span>): <span class="comment"># â­</span></span><br><span class="line">		<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å°† A æŒ‡ä»¤çš„æ•°å€¼æˆ–ç¬¦å·åœ°å€è½¬æ¢ä¸º 16 ä½äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#123;0:b&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(val)).zfill(<span class="number">16</span>)</span><br><span class="line">    	<span class="comment"># &#x27;&#123;0:b&#125;&#x27; æ˜¯ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ &#123;0&#125; æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œè¡¨ç¤ºè¦æ’å…¥çš„å€¼çš„ä½ç½®ï¼Œb è¡¨ç¤ºå°†å€¼æ ¼å¼åŒ–ä¸ºäºŒè¿›åˆ¶å½¢å¼ã€‚</span></span><br><span class="line">        <span class="comment"># zfill æ˜¯å­—ç¬¦ä¸²çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºåœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹å¡«å……é›¶ï¼Œç›´åˆ°å­—ç¬¦ä¸²çš„é•¿åº¦è¾¾åˆ°æŒ‡å®šçš„é•¿åº¦ã€‚åœ¨è¿™é‡Œï¼ŒæŒ‡å®šçš„é•¿åº¦æ˜¯ 16ã€‚</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">c_code</span>(<span class="params">self, comp_str, dest_str, jump_str</span>):</span><br><span class="line">		<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">		Create string for c-code</span></span><br><span class="line"><span class="string">		&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;111&#x27;</span> +<span class="variable language_">self</span>.comp(comp_str) + <span class="variable language_">self</span>.dest(dest_str) + <span class="variable language_">self</span>.jump(jump_str)</span><br><span class="line">    </span><br><span class="line">        </span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">dest</span>(<span class="params">self, dest_str</span>):</span><br><span class="line">		<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">		Returns the binary code of the dest mnemonic.</span></span><br><span class="line"><span class="string">		&quot;&quot;&quot;</span></span><br><span class="line">		<span class="keyword">return</span> <span class="string">&#x27;&#123;0:b&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="variable language_">self</span>.dest_list.index(dest_str)).zfill(<span class="number">3</span>)</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">comp</span>(<span class="params">self, comp_str</span>):</span><br><span class="line">		<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">		Returns the binary code of the comp mnemonic.</span></span><br><span class="line"><span class="string">		&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.comp_dict[comp_str]</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">jump</span>(<span class="params">self, jump_str</span>):</span><br><span class="line">		<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">		Returns the binary code of the jump mnemonic.</span></span><br><span class="line"><span class="string">		&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#123;0:b&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="variable language_">self</span>.jump_list.index(jump_str)).zfill(<span class="number">3</span>)</span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<h4 id="SymbolTable"><a href="#SymbolTable" class="headerlink" title="SymbolTable"></a>SymbolTable</h4><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SymbolTable</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Keeps a correspondence between symbolic labels and numeric addresses.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># ç”Ÿæˆä¸€ä¸ªåŒ…å« 16 ä¸ªé”®å€¼å¯¹çš„å­—å…¸ï¼Œé”®æ˜¯å½¢å¦‚ R0 åˆ° R15 çš„å­—ç¬¦ä¸²ï¼Œå€¼åˆ†åˆ«æ˜¯å¯¹åº”çš„æ•´æ•° 0 åˆ° 15 ã€‚</span></span><br><span class="line">        <span class="variable language_">self</span>.table = &#123;<span class="string">&#x27;R&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(i): i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">16</span>)&#125;</span><br><span class="line">        <span class="variable language_">self</span>.table.update(&#123;<span class="string">&#x27;SP&#x27;</span>: <span class="number">0</span>, <span class="string">&#x27;LCL&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;ARG&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;THIS&#x27;</span>: <span class="number">3</span>, </span><br><span class="line">                           <span class="string">&#x27;THAT&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;SCREEN&#x27;</span>: <span class="number">16384</span>, <span class="string">&#x27;KBD&#x27;</span>: <span class="number">24576</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_entry</span>(<span class="params">self, symbol, address</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å‘ç¬¦å·è¡¨ä¸­æ·»åŠ æ–°çš„ç¬¦å·åœ°å€æ˜ å°„</span></span><br><span class="line"><span class="string">        :param symbol: ç¬¦å·</span></span><br><span class="line"><span class="string">        :param address: åœ°å€</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="variable language_">self</span>.contains(symbol):</span><br><span class="line">            <span class="variable language_">self</span>.table[symbol] = address</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">contains</span>(<span class="params">self, symbol</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Does the symbol table contain the given symbol?</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> symbol <span class="keyword">in</span> <span class="variable language_">self</span>.table.keys()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_address</span>(<span class="params">self, symbol</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Returns the address associated with the symbol.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.table[symbol]</span><br></pre></td></tr></table></figure>

<h4 id="Assembler"><a href="#Assembler" class="headerlink" title="Assembler"></a>Assembler</h4><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> parser <span class="keyword">import</span> Parser</span><br><span class="line"><span class="keyword">from</span> code <span class="keyword">import</span> Code</span><br><span class="line"><span class="keyword">from</span> symbol_table <span class="keyword">import</span> SymbolTable</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Assembler</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æ±‡ç¼–å™¨ç±»ï¼Œè´Ÿè´£å°†æ±‡ç¼–æ–‡ä»¶è½¬æ¢ä¸ºæœºå™¨ç æ–‡ä»¶</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, debug=<span class="literal">False</span></span>):</span><br><span class="line">        <span class="variable language_">self</span>.symbol_table = SymbolTable()</span><br><span class="line">        <span class="variable language_">self</span>.code = Code()</span><br><span class="line">        <span class="variable language_">self</span>.parser = <span class="literal">None</span></span><br><span class="line">        <span class="variable language_">self</span>.debug = debug</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">debug_print</span>(<span class="params">self, print_string</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.debug:</span><br><span class="line">            <span class="built_in">print</span>(print_string)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">assemble</span>(<span class="params">self, input_file</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        ä¸»æ±‡ç¼–å‡½æ•°ï¼Œæ‰§è¡Œä¸¤éæ‰«æå¹¶ç”Ÿæˆè¾“å‡ºæ–‡ä»¶</span></span><br><span class="line"><span class="string">        :param input_file: è¾“å…¥çš„æ±‡ç¼–æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        start = time.time()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ£€æŸ¥è¾“å…¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”æ˜¯ .asm æ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">assert</span> os.path.exists(input_file), <span class="string">f&quot;æ–‡ä»¶ <span class="subst">&#123;input_file&#125;</span> ä¸å­˜åœ¨&quot;</span></span><br><span class="line">        <span class="keyword">assert</span> input_file.endswith(<span class="string">&#x27;.asm&#x27;</span>), <span class="string">&quot;è¾“å…¥æ–‡ä»¶å¿…é¡»æ˜¯ .asm æ ¼å¼&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.debug_print(<span class="string">f&#x27;Converting <span class="subst">&#123;input_file&#125;</span>&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ›å»ºè§£æå™¨å®ä¾‹</span></span><br><span class="line">        <span class="variable language_">self</span>.parser = Parser(input_file)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®°å½•å„é˜¶æ®µæ—¶é—´</span></span><br><span class="line">        check_1 = time.time()</span><br><span class="line">        <span class="variable language_">self</span>.debug_print(<span class="string">f&#x27;Parsed file in <span class="subst">&#123;<span class="built_in">round</span>(check_1 - start, <span class="number">5</span>):<span class="number">.5</span>f&#125;</span> secs&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.pass_1()</span><br><span class="line">        check_2 = time.time()</span><br><span class="line">        <span class="variable language_">self</span>.debug_print(<span class="string">f&#x27;First pass in <span class="subst">&#123;<span class="built_in">round</span>(check_2 - check_1, <span class="number">5</span>):<span class="number">.5</span>f&#125;</span> secs&#x27;</span>)</span><br><span class="line">        out_text = <span class="variable language_">self</span>.pass_2()</span><br><span class="line">        check_3 = time.time()</span><br><span class="line">        <span class="variable language_">self</span>.debug_print(<span class="string">f&#x27;Second pass in <span class="subst">&#123;<span class="built_in">round</span>(check_3 - check_2, <span class="number">5</span>):<span class="number">.5</span>f&#125;</span> secs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç”Ÿæˆè¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">        out_file = <span class="variable language_">self</span>.parser.file_name.split(<span class="string">&#x27;.asm&#x27;</span>)[<span class="number">0</span>] + <span class="string">&#x27;.hack&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å†™å…¥è¾“å‡ºæ–‡ä»¶</span></span><br><span class="line">        <span class="variable language_">self</span>.write_output(out_file, out_text)</span><br><span class="line">        <span class="variable language_">self</span>.debug_print(<span class="string">f&#x27;Wrote <span class="subst">&#123;out_file&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.debug_print(<span class="string">f&#x27;Ran in <span class="subst">&#123;<span class="built_in">round</span>(time.time() - start, <span class="number">5</span>):<span class="number">.5</span>f&#125;</span> secs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pass_1</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        ç¬¬ä¸€éæ‰«æï¼šå¤„ç†æ ‡ç­¾ç¬¦å·ï¼Œè®°å½•æ ‡ç­¾åœ°å€</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        asm_line = <span class="number">0</span>  <span class="comment"># è®°å½•å½“å‰å¤„ç†çš„æŒ‡ä»¤è¡Œå·ï¼ˆéæ ‡ç­¾è¡Œï¼‰</span></span><br><span class="line">        <span class="keyword">while</span> <span class="variable language_">self</span>.parser.has_more_commands():</span><br><span class="line">            <span class="variable language_">self</span>.parser.advance()</span><br><span class="line">            <span class="keyword">if</span> <span class="variable language_">self</span>.parser.command_type() == <span class="string">&#x27;L_COMMAND&#x27;</span>:  <span class="comment"># æ ‡ç­¾æŒ‡ä»¤</span></span><br><span class="line">                symbol = <span class="variable language_">self</span>.parser.symbol()</span><br><span class="line">                <span class="variable language_">self</span>.symbol_table.add_entry(symbol, asm_line)  <span class="comment"># æ ‡ç­¾åœ°å€ä¸ºå½“å‰è¡Œå·ï¼ˆåç»­æŒ‡ä»¤çš„è¡Œå·ï¼‰</span></span><br><span class="line">            <span class="keyword">else</span>:  <span class="comment"># éæ ‡ç­¾æŒ‡ä»¤ï¼Œè¡Œå·é€’å¢</span></span><br><span class="line">                asm_line += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pass_2</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        ç¬¬äºŒéæ‰«æï¼šå¤„ç†å˜é‡ç¬¦å·ï¼Œç”Ÿæˆæœºå™¨ç </span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        out_text = []</span><br><span class="line">        var_count = <span class="number">16</span>  <span class="comment"># å˜é‡åœ°å€ä» 16 å¼€å§‹</span></span><br><span class="line">        <span class="variable language_">self</span>.parser.reset_read()  <span class="comment"># é‡ç½®è§£æå™¨åˆ°æ–‡ä»¶å¼€å¤´</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> <span class="variable language_">self</span>.parser.has_more_commands():</span><br><span class="line">            <span class="variable language_">self</span>.parser.advance()</span><br><span class="line">            cmd_type = <span class="variable language_">self</span>.parser.command_type()</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> cmd_type == <span class="string">&#x27;A_COMMAND&#x27;</span>:  <span class="comment"># å¤„ç† A æŒ‡ä»¤</span></span><br><span class="line">                symbol = <span class="variable language_">self</span>.parser.symbol()</span><br><span class="line">                <span class="keyword">if</span> symbol.isdigit():  <span class="comment"># ç¬¦å·æ˜¯æ•°å­—ï¼Œç›´æ¥è½¬æ¢</span></span><br><span class="line">                    out_text.append(<span class="variable language_">self</span>.code.a_code(symbol))</span><br><span class="line">                <span class="keyword">else</span>:  <span class="comment"># ç¬¦å·æ˜¯å˜é‡æˆ–æ ‡ç­¾</span></span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> <span class="variable language_">self</span>.symbol_table.contains(symbol):  <span class="comment"># ç¬¦å·æœªå®šä¹‰ï¼Œæ·»åŠ åˆ°ç¬¦å·è¡¨</span></span><br><span class="line">                        <span class="variable language_">self</span>.symbol_table.add_entry(symbol, var_count)</span><br><span class="line">                        var_count += <span class="number">1</span></span><br><span class="line">                    <span class="comment"># è·å–ç¬¦å·åœ°å€å¹¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶</span></span><br><span class="line">                    address = <span class="variable language_">self</span>.symbol_table.get_address(symbol)</span><br><span class="line">                    out_text.append(<span class="variable language_">self</span>.code.a_code(address))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">elif</span> cmd_type == <span class="string">&#x27;C_COMMAND&#x27;</span>:  <span class="comment"># å¤„ç† C æŒ‡ä»¤</span></span><br><span class="line">                comp = <span class="variable language_">self</span>.parser.comp()</span><br><span class="line">                dest = <span class="variable language_">self</span>.parser.dest()</span><br><span class="line">                jump = <span class="variable language_">self</span>.parser.jump()</span><br><span class="line">                out_text.append(<span class="variable language_">self</span>.code.c_code(comp, dest, jump))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> out_text</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">write_output</span>(<span class="params">self, out_file, out_text</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        å°†ç”Ÿæˆçš„æœºå™¨ç å†™å…¥è¾“å‡ºæ–‡ä»¶ï¼Œæ¯è¡Œä¸€ä¸ª 16 ä½äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(out_file, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            <span class="keyword">for</span> binary <span class="keyword">in</span> out_text:</span><br><span class="line">                fp.write(<span class="string">f&quot;<span class="subst">&#123;binary&#125;</span>\n&quot;</span>)  <span class="comment"># ä½¿ç”¨ \n æ¢è¡Œï¼Œç¡®ä¿æ¯è¡Œä¸€æ¡æŒ‡ä»¤</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="main"><a href="#main" class="headerlink" title="main"></a>main</h4><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1.å¯¼å…¥æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> argparse <span class="comment"># Python æ ‡å‡†åº“ä¸­ç”¨äºå¤„ç†å‘½ä»¤è¡Œå‚æ•°çš„æ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> assembler <span class="keyword">import</span> Assembler</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.åˆ›å»ºå‘½ä»¤è¡Œå‚æ•°è§£æå™¨</span></span><br><span class="line">parser = argparse.ArgumentParser(</span><br><span class="line">	prog=<span class="string">&quot;main.py&quot;</span>,</span><br><span class="line">	description=<span class="string">&quot;Convert a .asm file into .hack assembly file&quot;</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.æ·»åŠ å‘½ä»¤è¡Œå‚æ•°</span></span><br><span class="line">parser.add_argument(<span class="string">&quot;asm_path&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;Path to .asm file to convert&quot;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">parser.add_argument(</span><br><span class="line">	<span class="string">&quot;--debug&quot;</span>,</span><br><span class="line">	<span class="string">&quot;--d&quot;</span>,</span><br><span class="line">	action=<span class="string">&quot;store_true&quot;</span>,</span><br><span class="line">	default=<span class="literal">False</span>,</span><br><span class="line">	<span class="built_in">help</span>=<span class="string">&quot;Whether to print steps/timing (True) or not (False) DEFAULT: False&quot;</span>,</span><br><span class="line">	dest=<span class="string">&quot;debug&quot;</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4.æ›´æ–°æ–‡æ¡£å­—ç¬¦ä¸²</span></span><br><span class="line">__doc__ = <span class="string">&quot;\n&quot;</span> + parser.format_help()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.å®šä¹‰ä¸»å‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">	args = parser.parse_args()</span><br><span class="line">	a = Assembler(args.debug)</span><br><span class="line">	a.assemble(args.asm_path)</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>code</category>
      </categories>
      <tags>
        <tag>nand2tetris</tag>
      </tags>
  </entry>
  <entry>
    <title>LOK</title>
    <url>/2025/04/11/%E5%9B%BE%E7%89%87%E5%90%8D%E5%AD%97/%E5%9B%BE%E7%89%87%E5%90%8D%E5%AD%972/</url>
    <content><![CDATA[<p><img src="https://picsum.photos/id/627/200/300" alt="å›¾ç‰‡åç§°å…«ä¸ªå­—"></p>
]]></content>
      <categories>
        <category>other</category>
      </categories>
  </entry>
</search>
